/*! For license information please see main.4cce233d.chunk.js.LICENSE.txt */
(this["webpackJsonpargon-dashboard-react"]=this["webpackJsonpargon-dashboard-react"]||[]).push([[0],{214:function(e,t,a){const n=a(68);n.elements.Rectangle.prototype.draw=function(){var e,t,a,n,l,s,o,r=this._chart.ctx,i=this._view,c=i.borderWidth;if(i.horizontal?(e=i.base,t=i.x,a=i.y-i.height/2,n=i.y+i.height/2,l=t>e?1:-1,s=1,o=i.borderSkipped||"left"):(e=i.x-i.width/2,t=i.x+i.width/2,a=i.y,l=1,s=(n=i.base)>a?1:-1,o=i.borderSkipped||"bottom"),c){var m=Math.min(Math.abs(e-t),Math.abs(a-n)),u=(c=c>m?m:c)/2,d=e+("left"!==o?u*l:0),h=t+("right"!==o?-u*l:0),p=a+("top"!==o?u*s:0),b=n+("bottom"!==o?-u*s:0);d!==h&&(a=p,n=b),p!==b&&(e=d,t=h)}r.beginPath(),r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=c;var _=[[e,n],[e,a],[t,a],[t,n]],E=["bottom","left","top","right"].indexOf(o,0);function g(e){return _[(E+e)%4]}-1===E&&(E=0);var f=g(0);r.moveTo(f[0],f[1]);for(var y=1;y<4;y++){f=g(y);let e=y+1;4===e&&(e=0);let t=_[2][0]-_[1][0],a=_[0][1]-_[1][1],n=_[1][0],l=_[1][1];var v;(v=6)>a/2&&(v=a/2),v>t/2&&(v=t/2),r.moveTo(n+v,l),r.lineTo(n+t-v,l),r.quadraticCurveTo(n+t,l,n+t,l+v),r.lineTo(n+t,l+a-v),r.quadraticCurveTo(n+t,l+a,n+t-v,l+a),r.lineTo(n+v,l+a),r.quadraticCurveTo(n,l+a,n,l+a-v),r.lineTo(n,l+v),r.quadraticCurveTo(n,l,n+v,l)}r.fill(),c&&r.stroke()};var l="Open Sans",s={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},o={default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},r="#FFFFFF",i="transparent";let c={options:{scales:{yAxes:[{gridLines:{color:s[900],zeroLineColor:s[900]},ticks:{callback:function(e){if(!(e%10))return"$"+e+"k"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,l="";return t.datasets.length>1&&(l+=a),l+="$"+n+"k"}}}},data1:e=>({labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}),data2:e=>({labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]})};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:s[600],defaultFontColor:s[600],defaultFontFamily:l,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:o.primary},line:{tension:.4,borderWidth:4,borderColor:o.primary,backgroundColor:i,borderCapStyle:"rounded"},rectangle:{backgroundColor:o.warning},arc:{backgroundColor:o.primary,borderColor:r,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,n){var l=t.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+l+'"></i>',a+=e,a+="</span>"})),a}}}};return n.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:s[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:s[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),n.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(t,a){for(var n in a)"object"!==typeof a[n]?t[n]=a[n]:e(t[n],a[n])},chartExample1:c,chartExample2:{options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,l="";return t.datasets.length>1&&(l+=a),l+=n}}}},data:{labels:["Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[25,20,30,22,17,29],maxBarThickness:10}]}}}},276:function(e,t,a){e.exports=a.p+"static/media/team-1-800x800.53033970.jpg"},351:function(e,t,a){e.exports=a(528)},356:function(e,t,a){},358:function(e,t,a){},510:function(e,t,a){e.exports=a.p+"static/media/github.4ffd4fe7.svg"},511:function(e,t,a){e.exports=a.p+"static/media/google.87be59a1.svg"},526:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxoAAAFACAMAAAAMFPrYAAAC91BMVEVHcEzf7+/j5+/n5+9fb3/Lixfk6fDk6fHl6fHl6PHl6PDk6e/tsCHkpR3MihfusSHlpx7l6PGvud+rt9+vv9+suN2tud6tud2tuN2tuN6suN+tud2sud2vt9/sryCsud+tuN/c4O+5vuaXnd18gtdqcdJZYM5zedSfpN/Cx+ioreKEi9mwteTT2e2Nk9tgZ9DLz+q7xePQ1+rJ0eesud03Oz84Oz83Oz/X3exPX29BTFU4Oz44Oz83Oz44Oz4vP0/f4+83Oj86ZXRcx8pOpq1azdG0v+DGzubb4O1j3+Ni3uJi3eFi3+Ff399i3uLCy+Vh3eJi3eHN1Oq3wuKwvN9i3+Jf399h3eJh3eHk6PDk6fDl6fFh3eLi5vBf3+Tl6fBh3+Hl6PJi3eK/x+Xh5e/a3uzX2+pClagqX34qX3wqX3xfan8qX37CiBXTjhbEghOWYAne4u5LUmJfaYNWXnJgaoPQ1+k1OkVXipg7NUFebII6PkNMfYY8NUJGX2pYYXZfaoIpX30oX31faYM4Oz9BlqlQuMEpY3kiTGcgSGMfRV8gR18eRV8jSF9ay9Ixdog8jZwfR2EfRV9e1NojUWkeRF9Goq5IXHVZYMt3ftRXwcc2f5F+htRX0NNb1dhc19te2t1Ys7pY0dZaxcpQrbY9Qkwjfo0kn64/usQ0dYjO0+elsNoblqYfm6o6tsBY1ds1sb1Go7CeqdpudtFb19osp7RQzNNDWnRIw8yOl9hDv8gnWG+Tndkwa4DCiCVfaYJMnqhdaoNMyM9fa4OtuN1faYJfaoNJeI9faoJea4Jea4JBWGNgaoNNjZNGb3ZDZWw4R085PUU/RExQl51IeX9DTFg1SVI/SlNhwcopa3cjgI4gh5ZdfZA6OEQyUlw6QElDSFRDTllWX3RNVGQuXmlPVmddZ39dZ39JT1wdkKBKUWBbZHtRWGlBRlBSWm09QUdHTVhMUmEmdIFaaH5bhZZdcYksi51JX3BPdYxcdYo3Q0o7ZnZPXG8yTCjPAAAA/XRSTlMAEEAgEECQ4P/woTDA0P///9AwQBDA/+Cg8FCA0CD/YHD/////////////////////////sID/QP8gWsuo4PAQ/2CZ4Mah////QP/AYBDx/6DQ////UCDggMCwgJD/MGxwULD/////4P/sYDDA//////+egP//RzCOgKD/4P////CAcNBw4v/0////y7Bm//b8+JD/9aD9//////z/V8/v//5w/f/////////////////////n///i////////4FD/kP9AkLDAwGBv4MfM////////////4fH//////P////+M//////+I//////////////+63f3////M78TympJHQAAAG2ZJREFUeAHs2YURwzAQBdELG0OSL4z99xhm5sjjfYO/gDVIspPLu6cgWYNi6ZKi/EuhXPFc5AehpBmiZ8XVS+LoWfIRubLnriAnSK/as+oX06jXnvWZMhqeyxp/aQOkcbkM2gBplD3XBYLfI42C57684OdII/Au4LUB0vA99/mCXyON0EuDUPBjpJH33sLPBkiDNEAapAHSIA2QBmmANEgDpEEaTbNgRUAapGETVW01ZamtS531MJ3V6EomkQZp9HSpJQtNXevLUkfXBpJFpEEaia7IglG9MIykE2kM65cMSePBNNr7Ggaq+1eI1bWOFbiXxveRxqClC6ODjyvtytJoXcZIQBqZSmPPGDPYdmIuDjvqja2ANLjXONFX1US+D6Qxmc7ZuYv0yGEgDMNaattMQ6YyW2FO7n+r4RlDd2QF6km1/b9bb/0ZSwrCiH6LwyTVdtSDO43Z8pep4gVIw8ti6sgL+WmsFSdAGmVFh5jEE5vG/M/PP8UHkIYX0HNMJjUNtca/P2ZIwzdkEZ8ITWOKNHghjYDsTKEPSXuwp6HW+ETFCGl4IfUKhA6lf12v54oFIA0vJgcV1muMDNKoy7CrkMa4II2cHCVIA8aURkLOUt1x6uwMaRwZpJHSnjhIfqpi6jKebls6O2dKY3qxwGs4p8urPdfjSMOLqC0qPP1XmXUP5uLSWP1Z+wfvDWkk3TB0S2aoJRWWxgy//HggDc9QU+7pjjKmplBkGjMF7wxpJP2fZyvLbePc2Q3SOCpIw9jL2G8j12yQhhxIw6eG3OmXYKm5YLxQDqSRW77M1k6oIROVhlpjKRMHpGHczvmKarmsNNR0NlXwzpBGSrVIP6+kBgyKDB/SyFyHznOqnSCNwUMagesZX1CtQBpNt9eX8lyrt0EaIf1ntM0J1RKkUbu7v5LoUr0bpBFqK7FpzNeL3Vx9lIerK6QxyDTc1ynF9oj40xC5feHl1fDTQBqJtgrFpSFgvPD26gCkgTQwKPIwyDSQhv0xyeHRC2k8jiENvIbH2saT+ho+33zgxp5Xg00DaeRU87SFT7VMUhpqu1qupup9IQ2kkVDNd93cMMV/jb+efrB3331pbFsYxzl93d75nwQQ1GEsKeQUg6k60kyQsUGwnt7b7b3fe17zKX6Ike2s7bCYYQ/b5/cGUr+fQfazATSspXEl7GzQxYYKP4ZfKhoZ/iIGu7WaAo2n3bSWBmjQFHPtW6lk4L4GHhsmaYDGdD7cbjAzO3P+4QIat18DDTtpKBcx3DnSdaXkqq+nMC+8vmQnDdCg0sU2KgM6ZkFjoNvL1/vduct073rc3burdB80pDSYj/V0i3SuxfSDhyukBBrnW/WY1lJxV/XUaqAhpKEciPM/ZFfm0981Bh2gIa9W95SqoDEyDUf33UuVxgmMvo4yyQKN2Gt6SuugMTINKuTVw42HCyePiPKjx+nBWg3QSCaNDU+tDRoj06ApZVVbFn9wLRNoxJ/vKW2Cxug0HHfwsxMarIx5irWfbcXc9s4PbKWx6yn5oDE6DZpzzx6IV1gZjzs08W39wE4abU+tCxoCGuw7uEXdQ6NVIRt6YiWN1Lqn1AQNAQ3uuZEjok6Le2ZUyI52rKTR85TqoCGkodjIPR1RLTIy5jtkS3s20qh5ahugEQUNysz0P/W2xb03ZU/fe85CGql9T2kfNKQ0lKbdAhEtBL+YWiGbemIjjY2YxiKgQZTJENGDABgPFsiufmYjjVS0YxHQUAo47ptfIOt6zjYaMYxFQENp5eHZdUjr4FGFLOx5G2l0ox+LgIZS2Vn8rkdlAyxAw8BYBDTsDjR68rEIaMRc5/CwQ/JAw/xYBDRiqHJ0/G1HZCrQSK15SrvmaYBG5TsXZmmARlUwFgGNmFs5Nk8DNGp1+VgENLR1yoGFkmGeBmikmvL5LWjoYHBz9NZiiFdTRmmABvNbqNdAIwIaj9NsD0nbsSkaoKHkRz8WAQ1y0po6pKkCGkmhsRv9/BY0aFFHo0yajszTAA3uaKNmkAZoHJujARpK65G/ogINKqf5Wh3iOwSN5NCoiue3oMHX4Gks0GTQAI2afH4LGnyLD4JhPHYINEag8eZbT3v7zq2x34PtgYaAhiApDdDo986478H6oAEaCafR791x34PtTgQN0ACN98Z9tLE7ETRAAzTeHvc92DpogEbCafQzPxZJDo2fvs8FGqAR/z3Y/dhpfCDtw4+4PpAGGqAxzFgENEADNAKONqqgARqgwYxFQAM0QCPgHmwbNEADNILuwW6CBmiARtDvxAcN0ACNwKONLmgkn0amWJjJ5pyBb4TKlgrFDGgYG4uYpwEazvRU/qQCPauUP2lq2gGNuI426qCRaBrFmfzT3GcM5vKnlYqgEdM92A3QSC6NYjZ/pilH/dLyk7JF0IjlaKMJGkmlMZfND+YWMkTkFPJK2TnQiOMebA00EkkjU8oHlMvm8gGVMqBhYCxiggZoTLv5YXILoBH5Pdh90Eggjav5YcuBxqiFG4uAxgtGaThD07gKGpEfbfRAI7BXTNKgwrAPjQwNVjlIS2o1KpeWRjfc/BY0dozSyOSGo3GFBltppYW1KhbQMDMWEdAwn4DGc98zSYOuDCUjS0rzaXGNS0ujx4xFQEPpiVEadHoOzj8/XDffzyGl9AhZSkMwFvFBI7jvG6XhuP3D7iL/rMgUXGVfBRqRHm2sgkZwL5ukQYX+RIqnUSI6wZGjc7XkMh5YT0MwFgENpb1XDNKgXMkh0tEoEH2HI1ekcz2U01i0job8aKMOGjyO7/+Moq9zdKaPSV9GS4OpMy//Kdw+GvJ7sFXQiD/5ubuEBtFCY15QwyELach/Q/s20QANnIbL84Pmt6ABGqCx6SlVJ5EGaMyCRuxHG+uTSAM0iqAR/z3YNmgkl8YUaBj8PthN0EgujSxoGPw+WB80QAM0Ao82unbRAI2FIc8zVkCDuQe7O3k0QMMRfdk/kwMazFhk8miABrEtCK4wgQZzD3YDNJJK4+rwNCQLqjJoBN+DbYJGUmkUxkNjATSCjzbqNXtogMYBnhoR3oOt2kMDNBbkN5hAo83MbyeGBmi4FOE7VK0V0GDvwbYniwZoZEnTwsFw5xoVAg12LNIbmcYnnyqBRhQ0ZgU0RIEGc7SxPjKNzz5XsoHG83H0xZme0AUVQWPMNS98RQUaz3+fYknzsQnmaYDG6gVjEdB4bpvIahqgweRr57eg8YOfUaJpzIDG2O7BroLGmZ77GSWbRgE04qqtG4uAxjYlhIaTDW4WNMY3FgEN5T1VIzTMBxpVfn4LGt+/BDRA4/bN5S9D3YPdB43Tvmc/DdBYXrpx48brt8McbdRAo98PyHoaoLF846TXw9yDrYJGv+ctpAEaqox+twRjEWtpgAZoLDO7WOYebNt2GqABGqqMG1+GuQfbs50GaICGKuONUEcbvuU0QAM0VBlLX4a7B9u1nwZogAYvgz/a2LWeBmiAhl4Gcw+2bjsN0AANXoZ0LAIa8kCjtrp5pl//5tt+O3YaqozfvTrEPdhm9DRAAzSqyhs+v//Dt/1x7DRUGX/687vh78HWaxHTAA3Q2PA9zyANXsbnn2tsdMOMRUBDHmjU9j3PLA1ehtaGH3J+CxpOUd8caATKWPeM0+Bl6GxshpzfgkYhry8LGowM8zR4GRob7RBjEdAADWn7nnkavAy9jbUQ81vQAA1ZPc88Db0MjY1qiPktaICGqFrdPA1ehmpDMBYBDdCQteklh8YSJ4O30dTOb0FDHmj4UdB4b5j+cisV3E1WBm9jQze/BQ15oNH1xDTk/fUCGks3//Z5WBu+ZiwCGvJAo2eABmtj6XRR+GJoG7ua+S1oyAONXSM03g5+TfX3061teBtdzfwWNOSBxpoBGvxj4+9v3Ljx2ncyhrCxHmIsAhqL6dCVTdIAjb+k9Olt6F8S1iyiARqgIbdR85SqNtEADdCQ21CHLmuW0AAN0JDbYMYiNtEADdCQ26hfOL8FjUo5dB3zNEBDbkM/FgENm968BQ25jS4zFombBmgc0ySUsoCG1IbPzG/jpgEah5T8tm2lwdvg18P+mGiAxpHFw1shjX/EQENuo82MReKmARrHHUp6W6nx0vjnv/49Uv/570n/+/9Xt0awwf4pmqARM41v2Lur/7axLIDjWtbuvgVu46YUsh3GMmPcMMNno3IXX5aZeVxmZmZmZgZ3OvzPjOU0J43sO9bRtZxr+fyeBv2Ub+VzQYFUyfvu1+JFA1q5yh+blv9O3EYd/11tRMNeGksll/F9JY40AMfqNf6YtHaqgI0Va/GHRYiGOA1oqSbzt6mvKXGlAa1bvd4fi5ZZt7HC798QYWtjkf00iIb0OLoXKkrcaUAb1w+qjaCMkI12/vFbomEjDdDxC6jFG6GiX4T1vR/Y2/yvwxMj7jRgIh88G5v8oTaEb20sIBp20+CUszlCW34Y1m8VyROgAW1dFYN5Az+LgwzdRg/mXW1Eg2jYTANauU14Ih+LsQEywEYH5vgt0bCRhpdoGCdyQRzLFIwNkAE2jPdgu4iGPS2NQiM7Eo3tctPYUbtzV1i7ee3B0RCfyFF7fyADmoU4LEI0BPrFD6MUiYZXZhp7G2pQ7QMa5tsvMpGvUBA2QAb0f87xW6KBrsDjdnu8WWrktGg0CiPQqJaYxuwaCEHjwH9rcP13lcA3KowNkAHt5xwWIRq4sjzuUJ4si9+oWLiMwh/KS6OrBk9D7+Chw7trUK1cZXHoWKMgbICM/o5w3tVGNHDlut/lsfbYOHpsu1FG6VF5aXTUWKVx/PiJk6dqIDsncsWkDZBhaB3n+C3RwJTthorUyE37ahnHjuUZZCz+obw0ZlunoXcacNg5kStmbUSW4T/D+UZFNDCVuKESFW+jggVpnD3HkSEhjfMiNPQuXMTi+F/MaYCNS/6I/Zh3WIRoINrihraovLSlfBmhCktBxvbqH8pMY7cgDR3HZexE/j+baKzwc1ppPH5LNNBVn3ND5xpVbkt8EXW0HuuNVRZs13WcuwKPDElp1AjQgA5dRU/kfkyiMvyrje9qIxrItEZW4oYKWaOmompkvbX5zNxLdQAN6MTh3eITuSCN3/m5XeMcFiEaJtNaGTtWCjSOMdaKslGBkOEwGhYm8nXmJ3LFXBv83P5rPH5LNDD55rBgV/pkXGHB5vjwMlixmlw0AMdFm5arFGEb24zHb4kGonFtLNT10HOj9IrZJwDIamO9VajJRsPuiVwRtvH/dZzDIkQD8Wc+a8z2erPL4W8rkDKq1SSkAR26bMNErgjY4Gxt9BANs1UChUrOP4g+p4RqVG2kkTKEuUZKSQM/kSNesqCI27hhPH5LNFBrS3oVER4jCBmtqp000lmw4bLSABzoiXz1eiQNvI2VnMMieBo3JepXZrv1TWs04AebtY0zDh965ZpZWq2arTSYXqp0NOyeyJUY2LhtPCyCoOGI7lih4QMZc3zhS1Z6rdNMbmhMU4lGbxfuxm4iVwRs8LY2GpKFBvRHPA1fGwjQuE8TH2JDw2Yao2SnARN5DST2kgUlFja28g+LOJsGdA9o4JemQAbYWAw2Kkx8wjjVZhr3GWMu6WcNCH2lg/OSBUXABndrY1HS0XiApNECMqpNzuf4DQ1hGlBmekaKkjA0LF3pWI+hgbDxfzPHbx1N4yGfBupH3/RCFciARd5k3NfgF4MrHUpMbOyPfliEaEBauXFpKrwKGEUWa/gNDaJh4UrHf3/iH9BcfI9uhLU66mER+kIFTeMsTfHHdL6MchUiGvwDJDLVkWQ0HgMN1NIUYnEXvaFBNOBKh1R10eJt1G9KjRp6S9C4oaGpcaExPDUl4WjAAZJTktHoTCYaf/+VAjTwS1P4aR2/oSFGYyRjLCNBacBELk/znEzjYbA/hs6I3AsGZ6gElqY4VYefNsRvaAjTcLFgKQlLAyZySepxAg1w8EB38Fh38E3U8UL+Xt449M6giQ0NOiiSCBN5Q2LS+JcOQXfwhOdAgIbGHaz5jTMO7SCjRSUa5oMrHRLULgUNhIPxilBft7Y0hfm/plne0CAacKVDgpoko/FUd3BHh6A7+JmCT4RGcX5+C2cTD3F2vSJ/MXyGGmcaIxOehjwTef0g0vi7zQ6QNMpy3cHOHbP05z1MKMc8oU/JifjcoatMJnHIMJHXxYvG3yMtGMW9r0d/o23pWQvTM6xrnS3tf+nIHE2NI420jPSqVMUZNOBKx2C2yB4asGDEdyAZjSx4yVQpY23FKi7YDcmDTzlmckODdsPFr3TYUweChtjCqdw0CtzQFas/1BVt193QdvgQopGYE/mCaDT+9Oyhoef4hVP5aeS6oe2aajFfoZk3RkNEQ/xKh40182hAYxVMDqCRq1ouB/EpREPu5So4LEI0oBzVct5BpJGamTncQTQkOEDSQzQMs0ZRTH5xkzfONIbKeTc8kSfyTqIxcIXKowrkgRWqLBWK377GfQfRkOBKx1yioVf2zkZpmSpQcd+nZKuDQcPlIBoSXOloIhq9NkLLSyVZqlBZJe5gheArbjSqmN5Q59CQYCJvIBp95eerIsGnCPASuMqkl+kgGhJM5HVEQ5qABj6Xw2nYcKVj3f4XL1+9eh3g9oZoOIHG0KANV4pDadhwpWPdh38NRG0C0XAADSXtfu/GxsjMYCP7/mFqsJT3/iZNAhoSHCBZ+TZgpmeJT4NoQPdZqHRFL8XF9DL6/8aVIj0N+yfydS8CJptKNBxDI429KxXWrfr+ZhjTq3IADcErHVs/CphtBdFwDI1UoAG7HX2/XQAeJw6gIXKl43bAfB8TDcfQUFwslCs0VGSw3lL6HyEZjqAhcIDkbQDTeKLhGBopQ0IyRip6aenv/c1w/RtVepojaMBEbpMMaAbRkCA6lI4O/3szXwRwfUI05Iho4EPh2B/A9juiIUFEw+4DJOteB7A9Ixp2RzQkmMhfBtC9IRpEQ3Ya4r83c0/AQhOIhgQRDXtfsvAqYKFnRINoDOxTfHtCND773NAXkkzkWwOWmko0BvRle/expLhzB3C818b5fVSF38F353Dm5tHPAZVLVM3Rz8HNV4fbFBswwzhMU7U5SIuGXi1CEmxw+OeNoG7pJ7U2QAt+nzdQFd9pdVAPpQH13fvD/Rd4gfMHt+/sdEZef0vD81/oc84fUhrvhdKYBj4vd6G8am37k45z3Siuz6YC3nLdRyetvU/jUiPS+HoD07BDj2s4v/34T6qtXLKgPwnvz13Iuzba8zTYtxpQxrdY09KI5h7X5d3ewQES/Y3wcAqYRbzXafyiAWn8pGFpRCGv5cHdHc3I/1UdRgRl7HiP07j0HePL+M6lRqUh5ry229tZrvpLzaVb34UqSbq3abBfGZ/GL1iT0ph5/B1cbOkAyd9qzMK9GWgQ4d6mwb5peBnfZQ1KQ/j83Tx4vIMDJLxMHIGexNlJGjTd+AlrUBpTj3OT21Bm5LxEKECXm+5rGux7PzI2jB99jTUojRl/Dxfb/6SD4wKoQUyanwYax09+ZKKffI+ZBCqEnBvehjIj56gEahFLJY3DQt61jL7/gscryVvjW7hkoXYZuJjSoDRqleEH0/VsNrIrDo54j7f8SQdHhFDETlYvBHaEv1NRGpSGVhnXEwEKkfg7fKVS8WLXIccNJ9ZaukwgJ3KK0iCUxhzZSK63V37XhDT6AhSLiaVwVgIUSUEahNJI8DDyIp8jHpiQxhRkdmoVcFagCHNpEErD9bikP4VStmfEsMGLzLHdblXqgkQ4ahqE0ojrbpcJ34TZBi/gCTn6iYVbgGShpEEojeAdlj7nBixSVa/buo5VJgRJTGkcqHtQLKouA52eqJ7sOI1+dRl4GzalIaE0/PploG1c7DiNRJk9VFlA1vcZoTQ2phVlCNsOAtsWyHuY7Hy3aXiQNbGquZDxlBFKAxk0ApAly/XSZxraIAt3vEZVsTy1sjSkAjZ6LUYO0bPqQcMHSZBaknQBWSLmOXd2mkYEG5GlZQUZI0YO0aBy0PCiqr2yiQsZLs+5vcs0YshYWlqcCDauMXKQKpenZpARavyVnZuVxkxz0MBXqRihyUbBj7svH0VFLGFDeEal4ZYPGk4cFzyVI2DjCiM02XitzzemeBlYG8Euj1GVrk85lmLpwgtikZYt4B4xcog6kOMig4av+QoiPIPS8KWDtDLH3RxysWQ+TTbIPVAFxVsagVUqgbW5QWkE+MqtU/Ku5cDGMSMHqVu2PuUJfAqLv55HBqUxg40YjRlApJYkonk4eQ6K4s9G4xqrOrE5aUzRqcZEPWMrsWGjxV4gNGxMC9+nXKuSwCbipqRhSWYgEep6NC1Rkef4EUGBrns6ceyguxtTI9OI1HFBNqE0FOQUnYX3sZcR3y24VDyFNSWN/2xPSRq2OpuQxZSGioyxWfh15Ge1KB5LIuRM+39ha/6nn4ZLaZAqredIGkHxuucK1vzCYuC6iWlA+QtVSmnkkCvIR+Gzwj+pKfZl0AqZh5uZRgiSyJIEahqEDuDyjWlhGiF2ljU2MA0bHRccAVkhPqawA0b+X5GGg72JrAxPI8BPuqwgw0VWoikNaqM8DaupaYSAH3VZ4EcnU9gYsoNGnmqPGkmT0vClkUGxvsrTdko+2OgyQrvi9ecavuFpcGQRav1tuwB3EZfenHDKDhwZ5RZvZ4UFOAJZ11mZmMYUf6PCpZDRYYeOtHt6+xphg/Y1+Bxbata9imrMCGGP5J81ths+q9oNj81Jo4/MjLQHjQEjhLH2Na0zVHECLyxS7JQ3NycN7uJfZWASyGgzQl5qn3l8LcJvHEhTy8I2kKcmpTGHDNvS4EPR0i0h7V/fzH+vEVmo/Ow8MCkNT2Cb3ohU0A1tBNN+eHb9paDG7WYrWLv5ycYfz84+/fv23Mj7DLLiysRdoEk4qdST/+ej3t/asWGdQ5aY6JdBgwZBDdSPp1G2uXtkR3IbsX4ZWOWEtHUvjF0ZfLd4qwfIIduK+3vpPDrBdfXaWBp9298JyJLUKhYKkFxjhCDaoNPG0vB/SHENZGLlWHmxC2tVj0LIUfVusrMwfeLaGkMujlTN2wbVFUZI9a8K/cfCcWT+FlmnBznuan1fUBwmAnJ+x/QRujB6ocQR25DVazMjnUAx17ZtKPaMEVJqBDI3XNcRryKQnRj+FPq6P2CElOsW/7G1I8gZGV64vi6rj1AbmCNmsJMeKLb0JITaGDGjdcagqaf5JIQcNbIMVesaaDnuMEI+2NvIuNPUx1ANWoyQen9xm/97ag2gwrBm4oRcGQNqeIU1RbsLuHd6EEJGx3vxe2odIZH3uh1GyDvpDMagGA/aTXyOXOXj7gkj5D10TrtDeK037I7arKFaV04Hw+EQ4Hg47B6dtNne+wopJLnu3skRAQAAAABJRU5ErkJggg=="},528:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(17),o=a.n(s),r=a(21),i=a(77),c=(a(356),a(357),a(358),a(549)),m=a(548),u=a(550),d=a(578),h=a(576),p=a(551),b=a(577),_=a(552);class E extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},l.a.createElement(c.a,{fluid:!0},l.a.createElement(r.b,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/"},this.props.brandText),l.a.createElement(u.a,{className:"align-items-center d-none d-md-flex",navbar:!0},l.a.createElement(d.a,{nav:!0},l.a.createElement(h.a,{className:"pr-0",nav:!0},l.a.createElement(p.a,{className:"align-items-center"},l.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},l.a.createElement("img",{alt:"...",src:a(276)})),l.a.createElement(p.a,{className:"ml-2 d-none d-lg-block"},l.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},"Arun")))),l.a.createElement(b.a,{className:"dropdown-menu-arrow",right:!0},l.a.createElement(_.a,{className:"noti-title",header:!0,tag:"div"},l.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),l.a.createElement(_.a,{to:"/admin/account",tag:r.b},l.a.createElement("i",{className:"ni ni-single-02"}),l.a.createElement("span",null,"My account"))))))))}}var g=E,f=a(553),y=a(554),v=a(555),S=a(556);class C extends l.a.Component{render(){return l.a.createElement("footer",{className:"footer"},l.a.createElement(f.a,{className:"align-items-center justify-content-xl-between"},l.a.createElement(y.a,{xl:"6"},l.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},l.a.createElement("a",{className:"font-weight-bold ml-1",href:"https://www.creative-tim.com?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"}))),l.a.createElement(y.a,{xl:"6"},l.a.createElement(u.a,{className:"nav-footer justify-content-center justify-content-xl-end"},l.a.createElement(v.a,null,l.a.createElement(S.a,{href:"https://www.creative-tim.com?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"})),l.a.createElement(v.a,null,l.a.createElement(S.a,{href:"https://www.creative-tim.com/presentation?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"})),l.a.createElement(v.a,null,l.a.createElement(S.a,{href:"http://blog.creative-tim.com?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"})),l.a.createElement(v.a,null,l.a.createElement(S.a,{href:"https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"}))))))}}var N=C,D=a(557),k=a(558),x=a(559),w=a(560),R=a(561),M=a(562),A=a(337);class P extends l.a.Component{constructor(e){super(e),this.state={collapseOpen:!1},this.toggleCollapse=()=>{this.setState({collapseOpen:!this.state.collapseOpen})},this.closeCollapse=()=>{this.setState({collapseOpen:!1})},this.createLinks=e=>e.map((e,t)=>l.a.createElement(v.a,{key:t},l.a.createElement(S.a,{to:e.layout+e.path,tag:r.c,onClick:this.closeCollapse,activeClassName:"active"},l.a.createElement("i",{className:e.icon}),e.name))),this.activeRoute.bind(this)}activeRoute(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}render(){const e=this.props,t=(e.bgColor,e.routes),n=e.logo;let s;return n&&n.innerLink?s={to:n.innerLink,tag:r.b}:n&&n.outterLink&&(s={href:n.outterLink,target:"_blank"}),l.a.createElement(m.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},l.a.createElement(c.a,{fluid:!0},l.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},l.a.createElement("span",{className:"navbar-toggler-icon"})),n?l.a.createElement(D.a,Object.assign({className:"pt-0"},s),l.a.createElement("img",{alt:n.imgAlt,className:"navbar-brand-img",src:n.imgSrc})):null,l.a.createElement(u.a,{className:"align-items-center d-md-none"},l.a.createElement(d.a,{nav:!0},l.a.createElement(h.a,{nav:!0,className:"nav-link-icon"},l.a.createElement("i",{className:"ni ni-bell-55"})),l.a.createElement(b.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0},l.a.createElement(_.a,null,"Action"),l.a.createElement(_.a,null,"Another action"),l.a.createElement(_.a,{divider:!0}),l.a.createElement(_.a,null,"Something else here"))),l.a.createElement(d.a,{nav:!0},l.a.createElement(h.a,{nav:!0},l.a.createElement(p.a,{className:"align-items-center"},l.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},l.a.createElement("img",{alt:"...",src:a(276)})))),l.a.createElement(b.a,{className:"dropdown-menu-arrow",right:!0},l.a.createElement(_.a,{className:"noti-title",header:!0,tag:"div"},l.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),l.a.createElement(_.a,{to:"/admin/user-profile",tag:r.b},l.a.createElement("i",{className:"ni ni-single-02"}),l.a.createElement("span",null,"My profile")),l.a.createElement(_.a,{to:"/admin/user-profile",tag:r.b},l.a.createElement("i",{className:"ni ni-settings-gear-65"}),l.a.createElement("span",null,"Settings")),l.a.createElement(_.a,{to:"/admin/user-profile",tag:r.b},l.a.createElement("i",{className:"ni ni-calendar-grid-58"}),l.a.createElement("span",null,"Activity")),l.a.createElement(_.a,{to:"/admin/user-profile",tag:r.b},l.a.createElement("i",{className:"ni ni-support-16"}),l.a.createElement("span",null,"Support")),l.a.createElement(_.a,{divider:!0}),l.a.createElement(_.a,{href:"#pablo",onClick:e=>e.preventDefault()},l.a.createElement("i",{className:"ni ni-user-run"}),l.a.createElement("span",null,"Logout"))))),l.a.createElement(k.a,{navbar:!0,isOpen:this.state.collapseOpen},l.a.createElement("div",{className:"navbar-collapse-header d-md-none"},l.a.createElement(f.a,null,n?l.a.createElement(y.a,{className:"collapse-brand",xs:"6"},n.innerLink?l.a.createElement(r.b,{to:n.innerLink},l.a.createElement("img",{alt:n.imgAlt,src:n.imgSrc})):l.a.createElement("a",{href:n.outterLink},l.a.createElement("img",{alt:n.imgAlt,src:n.imgSrc}))):null,l.a.createElement(y.a,{className:"collapse-close",xs:"6"},l.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},l.a.createElement("span",null),l.a.createElement("span",null))))),l.a.createElement(x.a,{className:"mt-4 mb-3 d-md-none"},l.a.createElement(w.a,{className:"input-group-rounded input-group-merge"},l.a.createElement(R.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("span",{className:"fa fa-search"}))))),l.a.createElement(u.a,{navbar:!0},this.createLinks(t)),l.a.createElement("hr",{className:"my-3"}))))}}P.defaultProps={routes:[{}]};var F=P,q=a(567),B=a(568),T=a(569),L=a(570),j=a(571),V=a(333),I=a(9),U=a.n(I);class O extends l.a.Component{constructor(...e){super(...e),this.state={isButtonClicked:!1},this.handleButtonClick=()=>{console.log("bc"),console.log(this.props.redirectURL),this.setState({isButtonClicked:!0})}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},this.props.buttonText?l.a.createElement("div",{className:"ml-4 "},l.a.createElement(V.a,{color:"default",size:"lg",onClick:this.handleButtonClick},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-bold-right"})),l.a.createElement("span",{className:"btn-inner--text"}," ",this.props.buttonText," "))):""),this.state.isButtonClicked?l.a.createElement(i.a,{to:this.props.redirectURL}):"")}}var Y=O,G=a(6),Q=a.n(G),H=a(12);class Z extends l.a.Component{constructor(...e){super(...e),this.state={isConsumerAdded:!1,options:{commodityGroup:[{value:"commodity1",label:"Commodity 1"},{value:"commodity2",label:"Commodity 2"}]},showBankDeatils:!1,commoditygroup:"",user_name:"",address:"",district:"",state:"",pincode:"",phone:"",email_id:"",account_no:"",account_holder_name:"",ifsc:"",bank:"",isSubmitBtnDisabled:!1},this.handleCommodityGroupChange=e=>{this.setState({commoditygroup:e.value})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.onClick=()=>{this.setState({showBankDeatils:!this.state.showBankDeatils})},this.onSubmit=e=>{e.preventDefault();const t={user_name:this.state.user_name,address:this.state.address,district:this.state.district,state:this.state.state,pincode:this.state.pincode,phone:this.state.phone,email_id:this.state.email_id,account_no:this.state.account_no,account_holder_name:this.state.account_holder_name,ifsc:this.state.ifsc,bank:this.state.bank};""!==t.user_name?""!==t.phone?isNaN(t.phone)?this.props.enqueueSnackbar("Enter Valid Phone Number",{variant:"error"}):t.email_id.length>0&&-1===t.email_id.lastIndexOf("@")?this.props.enqueueSnackbar("Enter Valid Mail-Id !",{variant:"error"}):this.state.isSubmitBtnDisabled||(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/consumers/add"),t).then(setTimeout(()=>this.setState({isConsumerAdded:!0}),1e3)).then(e=>{this.props.enqueueSnackbar("Consumer successfully added",{variant:"success"})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})):this.props.enqueueSnackbar("Phone Number is field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Consumer Name field is mandatory !",{variant:"error"})}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Consumer")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Consumer information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-consumer-name"},"Consumer Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-consumer-name",className:"form-control-alternative",placeholder:"Consumer Name",name:"user_name",type:"text",onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),l.a.createElement(R.a,{id:"input-address",className:"form-control-alternative",placeholder:"Address",type:"text",name:"address",onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-district"},"District"),l.a.createElement(R.a,{id:"input-district",className:"form-control-alternative",placeholder:"District",type:"text",name:"district",onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-state"},"State"),l.a.createElement(R.a,{id:"input-state",className:"form-control-alternative",placeholder:"State",type:"text",name:"state",onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-pincode"},"Pincode"),l.a.createElement(R.a,{id:"input-pincode",className:"form-control-alternative",placeholder:"Pincode",type:"text",name:"pincode",onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone"},"Phone"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-phone",className:"form-control-alternative",placeholder:"Phone No.",type:"text",name:"phone",onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-email-id"},"E-mail Id"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-email-id",className:"form-control-alternative",placeholder:"E-mail",type:"text",name:"email_id",onChange:this.handleElementChange})))),l.a.createElement(f.a,{className:"my-4"},l.a.createElement(y.a,{xs:"12"},l.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},l.a.createElement("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox",onClick:this.onClick}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckRegister"},l.a.createElement("span",{className:"text-muted"},"Add Bank Detais")))))),this.state.showBankDeatils?l.a.createElement(z,{handleElementChange:this.handleElementChange}):null)),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.onSubmit},"Save")))))),this.state.isConsumerAdded?l.a.createElement(i.a,{to:"/admin/consumers"}):null)}}class z extends l.a.Component{render(){return l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account No"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-no",className:"form-control-alternative",placeholder:"Account No",type:"text",name:"account_no",onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",name:"account_holder_name",onChange:this.props.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",type:"text",name:"ifsc",onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",name:"bank",onChange:this.props.handleElementChange})))))}}var W=Object(H.withSnackbar)(Z),K=a(166),X=a(29),J=a(30),$=a(31),ee=a(32),te=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={_id:new URLSearchParams(e.props.location.search).get("id"),isConsumerEdited:!1,options:{commodityGroup:[{value:"commodity1",label:"Commodity 1"},{value:"commodity2",label:"Commodity 2"}]},showBankDeatils:!1,commoditygroup:"",user_name:"",address:"",district:"",state:"",pincode:"",phone:"",email_id:"",account_no:"",account_holder_name:"",ifsc:"",bank:"",balance:0,isSubmitBtnDisabled:!1},e.handleCommodityGroupChange=function(t){e.setState({commoditygroup:t.value})},e.handleElementChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value))},e.onClick=function(){e.setState({showBankDeatils:!e.state.showBankDeatils})},e.onSubmit=function(t){t.preventDefault();var a={user_name:e.state.user_name,address:e.state.address,district:e.state.district,state:e.state.state,pincode:e.state.pincode,phone:e.state.phone,email_id:e.state.email_id,account_no:e.state.account_no,account_holder_name:e.state.account_holder_name,ifsc:e.state.ifsc,bank:e.state.bank,balance:e.state.balance};""!==a.user_name?""!==a.phone?isNaN(a.phone)?e.props.enqueueSnackbar("Enter Valid Phone Number",{variant:"error"}):a.email_id.length>0&&-1===a.email_id.lastIndexOf("@")?e.props.enqueueSnackbar("Enter Valid Mail-Id !",{variant:"error"}):e.state.isSubmitBtnDisabled||(e.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/consumers/update/")+e.state._id,a).then(setTimeout((function(){return e.setState({isConsumerEdited:!0})}),1e3)).then((function(t){e.props.enqueueSnackbar("Consumer Updated Successfully",{variant:"success"})})).catch((function(t){e.setState({isSubmitBtnDisabled:!1}),e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"Something went wrong!",{variant:"warning"})}))):e.props.enqueueSnackbar("Phone Number is field is mandatory !",{variant:"error"}):e.props.enqueueSnackbar("Consumer name field is mandatory !",{variant:"error"})},e}return Object(J.a)(a,[{key:"componentDidMount",value:function(){var e=this;U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")+this.state._id).then((function(t){e.setState({user_name:t.data.user_name,address:t.data.address,district:t.data.district,state:t.data.state,pincode:t.data.pincode,phone:t.data.phone,email_id:t.data.email_id,account_no:t.data.account_no,account_holder_name:t.data.account_holder_name,ifsc:t.data.ifsc,bank:t.data.bank,balance:t.data.balance}),""!==e.state.account_no&&e.setState({showBankDeatils:!0})})).catch((function(t){e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"Something went wrong!",{variant:"warning"})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Consumer")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Consumer information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-consumer-name"},"Consumer Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-consumer-name",className:"form-control-alternative",placeholder:"Consumer Name",name:"user_name",value:this.state.user_name,type:"text",onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),l.a.createElement(R.a,{id:"input-address",className:"form-control-alternative",placeholder:"Address",type:"text",name:"address",value:this.state.address,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-district"},"District"),l.a.createElement(R.a,{id:"input-district",className:"form-control-alternative",placeholder:"District",type:"text",name:"district",value:this.state.district,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-state"},"State"),l.a.createElement(R.a,{id:"input-state",className:"form-control-alternative",placeholder:"State",type:"text",name:"state",value:this.state.state,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-pincode"},"Pincode"),l.a.createElement(R.a,{id:"input-pincode",className:"form-control-alternative",placeholder:"Pincode",type:"text",name:"pincode",value:this.state.pincode,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone"},"Phone"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-phone",className:"form-control-alternative",placeholder:"Phone No.",type:"text",name:"phone",value:this.state.phone,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-email-id"},"E-mail Id"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-email-id",className:"form-control-alternative",placeholder:"E-mail",type:"text",name:"email_id",value:this.state.email_id,onChange:this.handleElementChange})))),l.a.createElement(f.a,{className:"my-4"},l.a.createElement(y.a,{xs:"12"},l.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},l.a.createElement("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox",onClick:this.onClick}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckRegister"},l.a.createElement("span",{className:"text-muted"},"Add Bank Detais")))))),this.state.showBankDeatils?l.a.createElement(ae,{account_no:this.state.account_no,account_holder_name:this.state.account_holder_name,ifsc:this.state.ifsc,bank:this.state.bank,handleElementChange:this.handleElementChange}):null)),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.onSubmit},"Update")))))),this.state.isConsumerEdited?l.a.createElement(i.a,{to:"/admin/consumers"}):null)}}]),a}(l.a.Component),ae=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account No"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-no",className:"form-control-alternative",placeholder:"Account No",type:"text",name:"account_no",value:this.props.account_no,onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",name:"account_holder_name",value:this.props.account_holder_name,onChange:this.props.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",type:"text",name:"ifsc",value:this.props.ifsc,onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",name:"bank",value:this.props.bank,onChange:this.props.handleElementChange})))))}}]),a}(l.a.Component),ne=Object(H.withSnackbar)(te);class le extends l.a.Component{constructor(...e){super(...e),this.state={isSupplierAdded:!1,options:{commodityGroup:[{value:"commodity1",label:"Commodity 1"},{value:"commodity2",label:"Commodity 2"}]},showBankDeatils:!1,commoditygroup:"",user_name:"",address:"",district:"",state:"",pincode:"",phone:"",email_id:"",account_no:"",account_holder_name:"",ifsc:"",bank:"",isSubmitBtnDisabled:!1},this.handleCommodityGroupChange=e=>{this.setState({commoditygroup:e.value})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.onClick=()=>{this.setState({showBankDeatils:!this.state.showBankDeatils})},this.onSubmit=e=>{e.preventDefault();const t={user_name:this.state.user_name,address:this.state.address,district:this.state.district,state:this.state.state,pincode:this.state.pincode,phone:this.state.phone,email_id:this.state.email_id,account_no:this.state.account_no,account_holder_name:this.state.account_holder_name,ifsc:this.state.ifsc,bank:this.state.bank};""!==t.user_name?""!==t.phone?isNaN(t.phone)?this.props.enqueueSnackbar("Enter Valid Phone Number",{variant:"error"}):t.email_id.length>0&&-1===t.email_id.lastIndexOf("@")?this.props.enqueueSnackbar("Enter Valid Mail-Id !",{variant:"error"}):(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/suppliers/add"),t).then(setTimeout(()=>this.setState({isSupplierAdded:!0}),1e3)).then(e=>{this.props.enqueueSnackbar("Supplier successfully added",{variant:"success"})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})):this.props.enqueueSnackbar("Phone Number is field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Supplier name field is mandatory !",{variant:"error"})}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Supplier")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Supplier information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-supplier-name"},"Supplier Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-supplier-name",className:"form-control-alternative",placeholder:"Supplier Name",name:"user_name",type:"text",onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),l.a.createElement(R.a,{id:"input-address",className:"form-control-alternative",placeholder:"Address",type:"text",name:"address",onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-district"},"District"),l.a.createElement(R.a,{id:"input-district",className:"form-control-alternative",placeholder:"District",type:"text",name:"district",onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-state"},"State"),l.a.createElement(R.a,{id:"input-state",className:"form-control-alternative",placeholder:"State",type:"text",name:"state",onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-pincode"},"Pincode"),l.a.createElement(R.a,{id:"input-pincode",className:"form-control-alternative",placeholder:"Pincode",type:"text",name:"pincode",onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone"},"Phone"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-phone",className:"form-control-alternative",placeholder:"Phone No.",type:"text",name:"phone",onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-email-id"},"E-mail Id"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-email-id",className:"form-control-alternative",placeholder:"E-mail",type:"text",name:"email_id",onChange:this.handleElementChange})))),l.a.createElement(f.a,{className:"my-4"},l.a.createElement(y.a,{xs:"12"},l.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},l.a.createElement("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox",onClick:this.onClick}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckRegister"},l.a.createElement("span",{className:"text-muted"},"Add Bank Detais")))))),this.state.showBankDeatils?l.a.createElement(se,{handleElementChange:this.handleElementChange}):null)),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.onSubmit},"Save")))))),this.state.isSupplierAdded?l.a.createElement(i.a,{to:"/admin/suppliers"}):null)}}class se extends l.a.Component{render(){return l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account No"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-no",className:"form-control-alternative",placeholder:"Account No",type:"text",name:"account_no",onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",name:"account_holder_name",onChange:this.props.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",type:"text",name:"ifsc",onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",name:"bank",onChange:this.props.handleElementChange})))))}}var oe=Object(H.withSnackbar)(le),re=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={_id:new URLSearchParams(e.props.location.search).get("id"),isSupplierEdited:!1,options:{commodityGroup:[{value:"commodity1",label:"Commodity 1"},{value:"commodity2",label:"Commodity 2"}]},showBankDeatils:!1,commoditygroup:"",user_name:"",address:"",district:"",state:"",pincode:"",phone:"",email_id:"",account_no:"",account_holder_name:"",ifsc:"",bank:"",balance:0,isSubmitBtnDisabled:!1},e.handleCommodityGroupChange=function(t){e.setState({commoditygroup:t.value})},e.handleElementChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value))},e.onClick=function(){e.setState({showBankDeatils:!e.state.showBankDeatils})},e.onSubmit=function(t){t.preventDefault();var a={user_name:e.state.user_name,address:e.state.address,district:e.state.district,state:e.state.state,pincode:e.state.pincode,phone:e.state.phone,email_id:e.state.email_id,account_no:e.state.account_no,account_holder_name:e.state.account_holder_name,ifsc:e.state.ifsc,bank:e.state.bank,balance:e.state.balance};""!==a.user_name?""!==a.phone?isNaN(a.phone)?e.props.enqueueSnackbar("Enter Valid Phone Number",{variant:"error"}):a.email_id.length>0&&-1===a.email_id.lastIndexOf("@")?e.props.enqueueSnackbar("Enter Valid Mail-Id !",{variant:"error"}):(e.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/suppliers/update/")+e.state._id,a).then(setTimeout((function(){return e.setState({isSupplierEdited:!0})}),1e3)).then((function(t){e.props.enqueueSnackbar("Supplier Updated Successfully",{variant:"success"})})).catch((function(t){e.setState({isSubmitBtnDisabled:!1}),e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"Something went wrong!",{variant:"warning"})}))):e.props.enqueueSnackbar("Phone Number is field is mandatory !",{variant:"error"}):e.props.enqueueSnackbar("Supplier name field is mandatory !",{variant:"error"})},e}return Object(J.a)(a,[{key:"componentDidMount",value:function(){var e=this;U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")+this.state._id).then((function(t){e.setState({user_name:t.data.user_name,address:t.data.address,district:t.data.district,state:t.data.state,pincode:t.data.pincode,phone:t.data.phone,email_id:t.data.email_id,account_no:t.data.account_no,account_holder_name:t.data.account_holder_name,ifsc:t.data.ifsc,bank:t.data.bank,balance:t.data.balance}),""!==e.state.account_no&&e.setState({showBankDeatils:!0})})).catch((function(t){e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"Something went wrong!",{variant:"warning"})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Supplier")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Supplier information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-supplier-name"},"Supplier Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-supplier-name",className:"form-control-alternative",placeholder:"Supplier Name",name:"user_name",value:this.state.user_name,type:"text",onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),l.a.createElement(R.a,{id:"input-address",className:"form-control-alternative",placeholder:"Address",type:"text",name:"address",value:this.state.address,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-district"},"District"),l.a.createElement(R.a,{id:"input-district",className:"form-control-alternative",placeholder:"District",type:"text",name:"district",value:this.state.district,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-state"},"State"),l.a.createElement(R.a,{id:"input-state",className:"form-control-alternative",placeholder:"State",type:"text",name:"state",value:this.state.state,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-pincode"},"Pincode"),l.a.createElement(R.a,{id:"input-pincode",className:"form-control-alternative",placeholder:"Pincode",type:"text",name:"pincode",value:this.state.pincode,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone"},"Phone"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-phone",className:"form-control-alternative",placeholder:"Phone No.",type:"text",name:"phone",value:this.state.phone,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-email-id"},"E-mail Id"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-email-id",className:"form-control-alternative",placeholder:"E-mail",type:"text",name:"email_id",value:this.state.email_id,onChange:this.handleElementChange})))),l.a.createElement(f.a,{className:"my-4"},l.a.createElement(y.a,{xs:"12"},l.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},l.a.createElement("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox",onClick:this.onClick}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckRegister"},l.a.createElement("span",{className:"text-muted"},"Add Bank Detais")))))),this.state.showBankDeatils?l.a.createElement(ie,{account_no:this.state.account_no,account_holder_name:this.state.account_holder_name,ifsc:this.state.ifsc,bank:this.state.bank,handleElementChange:this.handleElementChange}):null)),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.onSubmit},"Update")))))),this.state.isSupplierEdited?l.a.createElement(i.a,{to:"/admin/suppliers"}):null)}}]),a}(l.a.Component),ie=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account No"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-no",className:"form-control-alternative",placeholder:"Account No",type:"text",name:"account_no",value:this.props.account_no,onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",name:"account_holder_name",value:this.props.account_holder_name,onChange:this.props.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",type:"text",name:"ifsc",value:this.props.ifsc,onChange:this.props.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",name:"bank",value:this.props.bank,onChange:this.props.handleElementChange})))))}}]),a}(l.a.Component),ce=Object(H.withSnackbar)(re),me=a(15);class ue extends l.a.Component{constructor(...e){super(...e),this.state={commodity_group_name:"",sub_commodities:[{sub_commodity_name:"",sub_commodity_quantity:"",sub_commodity_unit:"Kilo gram"}],options:{sub_commodity_unit:[{value:"Kilo gram",label:"Kilo gram"},{value:"Gram",label:"Gram"},{value:"Liter",label:"Liter"},{value:"Piece",label:"Piece"}]},isCommoditySuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};if(t.commodity_group_name=this.state.commodity_group_name,t.sub_commodities=this.state.sub_commodities,0===t.sub_commodities.length)return void this.props.enqueueSnackbar("Atleast 1 quantity needed !",{variant:"error"});if(""===t.commodity_group_name)return void this.props.enqueueSnackbar("Commodity group field is mandatory !",{variant:"error"});let a=!1;t.sub_commodities.map((e,t)=>(e.sub_commodity_name=e.sub_commodity_name+"( "+e.sub_commodity_quantity+" "+e.sub_commodity_unit+" )",""===e.sub_commodity_name?(this.props.enqueueSnackbar("Commodity ".concat(t+1," name field is empty !"),{variant:"error"}),a=!0,null):""===e.sub_commodity_quantity?(this.props.enqueueSnackbar("Commodity ".concat(t+1," quantity field is empty !"),{variant:"error"}),a=!0,null):""===e.sub_commodity_unit?(this.props.enqueueSnackbar("Commodity ".concat(t+1," unit field is empty !"),{variant:"error"}),a=!0,null):null)),a||(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/commodities/add"),t).then(e=>{console.log(e),"success"===e.data?(this.props.enqueueSnackbar("Commodities successfully added",{variant:"success"}),this.setState({isCommoditySuccess:!0})):"duplicate"===e.data&&this.props.enqueueSnackbar("Commodity group name already found, Please provide a new commodity group name !",{variant:"error"})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}))},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleAddCommodity=()=>{let e=this.state.sub_commodities;e.push({sub_commodity_name:"",sub_commodity_quantity:"",sub_commodity_unit:"Kilo gram"}),this.setState({sub_commodities:e})},this.handleCardChange=e=>{const t=e.target.id,a=e.target.name;let n=this.state.sub_commodities;"sub_commodity_name"===a?n[t].sub_commodity_name=e.target.value:"sub_commodity_quantity"===a&&(n[t].sub_commodity_quantity=e.target.value),this.setState({sub_commodities:n})},this.handleRemoveCommodity=e=>{const t=e.target.name;let a=[];a=this.state.sub_commodities,a.splice(t,1),this.setState({sub_commodities:a})},this.handleCardSelectChange=(e,t)=>{const a=t.name,n=e.value;let l=this.state.sub_commodities;l[a].sub_commodity_unit=n,this.setState({sub_commodities:l})},this.constructQuantityCards=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement("div",{key:t},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:"order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Commodity ",t+1," ")),l.a.createElement(y.a,{className:"text-right"},l.a.createElement(V.a,{name:t,index:t,color:"danger",onClick:this.handleRemoveCommodity,size:"sm"},"- remove")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:this.state.sub_commodities[t].sub_commodity_name,autoComplete:"off",onChange:this.handleCardChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity Quantity"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_quantity",placeholder:"Commodity quantity",className:"form-control-alternative",type:"number",value:this.state.sub_commodities[t].sub_commodity_quantity,autoComplete:"off",onChange:this.handleCardChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity Unit"),l.a.createElement(me.a,{name:t,placeholder:"Choose unit...",value:[{value:this.state.sub_commodities[t].sub_commodity_unit,label:this.state.sub_commodities[t].sub_commodity_unit}],options:this.state.options.sub_commodity_unit,onChange:this.handleCardSelectChange}))))))),l.a.createElement(j.a,null)))),l.a.createElement("br",null)))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Commodities")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodity Group"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group name"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"commodity_group_name",placeholder:"Commodity group name",className:"form-control-alternative",type:"text",autoComplete:"off",onChange:this.handleChange})))))),this.constructQuantityCards(),l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{className:"text-right"},l.a.createElement(V.a,{color:"primary",onClick:this.handleAddCommodity,size:"sm"},"+ new commodity")))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Commodity")))))),this.state.isCommoditySuccess?l.a.createElement(i.a,{to:"/admin/commodities"}):null)}}var de=Object(H.withSnackbar)(ue);class he extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),commodity_group_name:"",sub_commodities:[{sub_commodity_name:"",sub_commodity_quantity:"",sub_commodity_unit:"Kilo gram"}],options:{sub_commodity_unit:[{value:"Kilo gram",label:"Kilo gram"},{value:"Gram",label:"Gram"},{value:"Litre",label:"Litre"},{value:"Piece",label:"Piece"}]},isCommoditySuccess:!1,isSubmitBtnDisabled:!1},this.componentDidMount=()=>{U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")+this.state._id).then(e=>{console.log(e.data),this.setState({commodity_group_name:e.data.commodity_group_name,sub_commodities:e.data.sub_commodities})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})},this.handleSubmit=e=>{let t={};if(t.commodity_group_name=this.state.commodity_group_name,t.sub_commodities=this.state.sub_commodities,0===t.sub_commodities.length)return void this.props.enqueueSnackbar("Atleast 1 quantity needed !",{variant:"error"});if(""===t.commodity_group_name)return void this.props.enqueueSnackbar("Commodity group field is mandatory !",{variant:"error"});let a=!1;t.sub_commodities.map((e,t)=>(e.sub_commodity_name.includes("(")||(e.sub_commodity_name=e.sub_commodity_name+"( "+e.sub_commodity_quantity+" "+e.sub_commodity_unit+" )"),""===e.sub_commodity_name?(this.props.enqueueSnackbar("Commodity ".concat(t+1," name field is empty !"),{variant:"error"}),a=!0,null):""===e.sub_commodity_quantity?(this.props.enqueueSnackbar("Commodity ".concat(t+1," quantity field is empty !"),{variant:"error"}),a=!0,null):""===e.sub_commodity_unit?(this.props.enqueueSnackbar("Commodity ".concat(t+1," unit field is empty !"),{variant:"error"}),a=!0,null):null)),a||(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/commodities/update/")+this.state._id,t).then(e=>{"success"===e.data?(this.props.enqueueSnackbar("Commodities successfully added",{variant:"success"}),this.setState({isCommoditySuccess:!0})):"duplicate"===e.data&&this.props.enqueueSnackbar("Commodity group name already found, Please provide a new commodity group name !",{variant:"error"})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}))},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleAddCommodity=()=>{let e=this.state.sub_commodities;e.push({sub_commodity_name:"",sub_commodity_quantity:"",sub_commodity_unit:"Kilo gram"}),this.setState({sub_commodities:e})},this.handleCardChange=e=>{const t=e.target.id,a=e.target.name;let n=this.state.sub_commodities;"sub_commodity_name"===a?n[t].sub_commodity_name=e.target.value:"sub_commodity_quantity"===a&&(n[t].sub_commodity_quantity=e.target.value),this.setState({sub_commodities:n})},this.handleRemoveCommodity=e=>{const t=e.target.name;let a=[];a=this.state.sub_commodities,a.splice(t,1),this.setState({sub_commodities:a})},this.handleCardSelectChange=(e,t)=>{const a=t.name,n=e.value;let l=this.state.sub_commodities;l[a].sub_commodity_unit=n,this.setState({sub_commodities:l})},this.constructQuantityCards=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:"order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Commodity ",t+1," ")),l.a.createElement(y.a,{className:"text-right"},l.a.createElement(V.a,{name:t,index:t,color:"danger",onClick:this.handleRemoveCommodity,size:"sm"},"- remove")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:this.state.sub_commodities[t].sub_commodity_name.split("(")[0],autoComplete:"off",onChange:this.handleCardChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity Quantity"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_quantity",placeholder:"Commodity quantity",className:"form-control-alternative",type:"number",value:this.state.sub_commodities[t].sub_commodity_quantity,autoComplete:"off",onChange:this.handleCardChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity Unit"),l.a.createElement(me.a,{name:t,placeholder:"Choose unit...",value:[{value:this.state.sub_commodities[t].sub_commodity_unit,label:this.state.sub_commodities[t].sub_commodity_unit}],options:this.state.options.sub_commodity_unit,onChange:this.handleCardSelectChange}))))))),l.a.createElement(j.a,null)))),l.a.createElement("br",null)))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Commodities")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodity Group"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group name"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"commodity_group_name",placeholder:"Commodity group name",className:"form-control-alternative",type:"text",autoComplete:"off",value:this.state.commodity_group_name,onChange:this.handleChange})))))),this.constructQuantityCards(),l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{className:"text-right"},l.a.createElement(V.a,{color:"primary",onClick:this.handleAddCommodity,size:"sm"},"+ new commodity")))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Update Commodity")))))),this.state.isCommoditySuccess?l.a.createElement(i.a,{to:"/admin/commodities"}):null)}}var pe=Object(H.withSnackbar)(he),be=a(25),_e=a.n(be);class Ee extends l.a.Component{constructor(...e){super(...e),this.state={payment_for:"",payment_type:"",commodity_group:"",invoice_no:"",amount:"",date_of_payment:new Date,mode_of_payment:"",bank:"",account_holder_name:"",account_number:"",ifsc:"",dd_no:"",cheque_no:"",my_account_number:"",payment_description:"",my_bank:"",my_account_holder_name:"",my_ifsc:"",isValidDate:!0,options:{myaccounts:[],payment_type:[{value:"supplier",label:"Supplier"},{value:"consumer",label:"Consumer"}],payment_for:[],mode_of_payment:[{value:"cash",label:"Cash"},{value:"netbanking",label:"Net Banking"},{value:"dd",label:"Demand Draft"},{value:"cheque",label:"Cheque"}],commodities:[]},buffer:{consumers:[],suppliers:[]},visible:{invoice:!1,cash:!1,netbanking:!1,dd:!1,cheque:!1},isInvoiceDisabled:!1,isPaymentSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{e.preventDefault();let t={};t.payment_for=this.state.payment_for,t.payment_type=this.state.payment_type,t.commodity_group=this.state.commodity_group,t.invoice_no=this.state.invoice_no,t.amount=this.state.amount,t.date_of_payment=this.state.date_of_payment,t.mode_of_payment=this.state.mode_of_payment,t.bank=this.state.bank,t.account_holder_name=this.state.account_holder_name,t.account_number=this.state.account_number,t.ifsc=this.state.ifsc,t.dd_no=this.state.dd_no,t.cheque_no=this.state.cheque_no,t.my_account_number=this.state.my_account_number,t.my_bank=this.state.my_bank,t.payment_description=this.state.payment_description,""!==t.payment_type?""!==t.payment_for?""!==t.commodity_group?""!==t.amount?this.state.isValidDate?""!==t.mode_of_payment?(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/payments/add"),t).then(e=>{this.props.enqueueSnackbar("Payment successfully added",{variant:"success"},this.setState({isPaymentSuccess:!0}))}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})):this.props.enqueueSnackbar("Mode of payment field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Choose proper date !",{variant:"error"}):this.props.enqueueSnackbar("Amount field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Commodity group field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Select the Supplier / Consumer !",{variant:"error"}):this.props.enqueueSnackbar("Payment Type field is mandatory !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_payment:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;console.log(a+" "+n),console.log(t),this.setState({[a]:n})},this.handlePaymentTypeChange=e=>{if(this.setState({payment_for:e.value}),"supplier"===e.value){this.setState({isInvoiceDisabled:!1});let e=this.state.options;e.payment_for=this.state.buffer.suppliers,this.setState({options:e}),this.setState({payment_for:""}),this.setState({payment_type:"supplier"})}else{this.setState({isInvoiceDisabled:!0});let e=this.state.options;e.payment_for=this.state.buffer.consumers,this.setState({options:e}),this.setState({payment_for:""}),this.setState({payment_type:"consumer"})}},this.handleModeChange=e=>{const t=e.value;console.log(t);let a={};Object.keys(this.state.visible).map(e=>(a[e]=e===t,null)),this.setState({visible:a}),this.setState({mode_of_payment:t})},this.handleMyAccountChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.componentDidMount=()=>{let e=[],t=[],a=[],n=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.buffer;a.consumers=e,this.setState({buffer:a})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(e=>{if(0!==e.data.length){e.data.map(e=>{let a={};return a.value=e._id,a.label=e.user_name,t.push(a),null});let a=this.state.buffer;a.suppliers=t,this.setState({buffer:a})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let t=this.state.options;t.commodities=a,this.setState({options:t})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/admins/")).then(e=>{if(0!==e.data.length){e.data[0].bank_accounts.map(e=>{let t={};return t.value=e.account_no,t.label=e.account_no,n.push(t),null});let t=this.state.options;t.myaccounts=n,this.setState({options:t})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Payment")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Payment information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Payment type"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"payment_type",placeholder:"Payment type...",options:this.state.options.payment_type,onChange:this.handlePaymentTypeChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Supplier / Consumer"),l.a.createElement(me.a,{name:"payment_for",placeholder:"Choose supplier / consumer...",options:this.state.options.payment_for,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity"),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Choose commodity...",options:this.state.options.commodities,onChange:this.handleSelectChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{disabled:this.state.isInvoiceDisabled,className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",onChange:this.handleChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-amount"},"Amount"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-amount",name:"amount",placeholder:"Amount",type:"text",autoComplete:"off",onChange:this.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Payment date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange})))))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-city"},"Mode of Payment"),l.a.createElement(me.a,{name:"mode_of_payment",placeholder:"Choose mode of payment...",options:this.state.options.mode_of_payment,onChange:this.handleModeChange})))),this.state.visible.netbanking?l.a.createElement(ge,{handleChange:this.handleChange,handleMyAccountChange:this.handleMyAccountChange,state:this.state,options:this.state.options,payment_for:this.state.payment_for}):null,this.state.visible.dd?l.a.createElement(fe,{handleChange:this.handleChange}):null,this.state.visible.cheque?l.a.createElement(ye,{handleChange:this.handleChange}):null),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Payment Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this payment (optional)",type:"textarea",name:"payment_description",onChange:this.handleChange}))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Payment")))))),this.state.isPaymentSuccess?l.a.createElement(i.a,{to:"/admin/payments"}):null)}}class ge extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Net Banking information"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account Number"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"account_number",id:"input-account-no",className:"form-control-alternative",placeholder:"Account No",type:"text",autoComplete:"off",onChange:this.props.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"account_holder_name",id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",autoComplete:"off",onChange:this.props.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"bank",id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",onChange:this.props.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"ifsc",id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",autoComplete:"off",type:"text",onChange:this.props.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"My Account Number"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"my_account_number",placeholder:"Payment for",options:this.props.options.myaccounts,onChange:this.props.handleMyAccountChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"My Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",value:this.props.state.my_account_holder_name})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"My Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",name:"my_bank",value:this.props.state.my_bank,onChange:this.props.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"My IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",type:"text",value:this.props.state.my_ifsc})))))}}class fe extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Demand Draft Information"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Demand Draft Number"),l.a.createElement("br",null),l.a.createElement(R.a,{className:"form-control-alternative",placeholder:"Demand Draft number",type:"text",name:"dd_no",autoComplete:"off",onChange:this.props.handleChange})))))}}class ye extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Cheque Information"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Cheque Number"),l.a.createElement("br",null),l.a.createElement(R.a,{className:"form-control-alternative",placeholder:"Demand Draft number",type:"text",autoComplete:"off",name:"cheque_no",onChange:this.props.handleChange})))))}}var ve=Object(H.withSnackbar)(Ee);class Se extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),payment_for:"",payment_type:"",commodity_group:"",invoice_no:"",amount:"",date_of_payment:new Date,mode_of_payment:"",bank:"",account_holder_name:"",account_number:"",ifsc:"",dd_no:"",cheque_no:"",my_account_number:"",payment_description:"",my_bank:"",my_account_holder_name:"",my_ifsc:"",isValidDate:!0,options:{myaccounts:[],payment_type:[{value:"supplier",label:"Supplier"},{value:"consumer",label:"Consumer"}],payment_for:[],mode_of_payment:[{value:"cash",label:"Cash"},{value:"netbanking",label:"Net Banking"},{value:"dd",label:"Demand Draft"},{value:"cheque",label:"Cheque"}],commodities:[],buffer:{consumers:[],suppliers:[]}},visible:{invoice:!1,cash:!1,netbanking:!1,dd:!1,cheque:!1},isInvoiceDisabled:!0,isPaymentSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{e.preventDefault();let t={};t.payment_for=this.state.payment_for,t.payment_type=this.state.payment_type,t.commodity_group=this.state.commodity_group,t.invoice_no=this.state.invoice_no,t.amount=this.state.amount,t.date_of_payment=this.state.date_of_payment,t.mode_of_payment=this.state.mode_of_payment,t.bank=this.state.bank,t.account_holder_name=this.state.account_holder_name,t.account_number=this.state.account_number,t.ifsc=this.state.ifsc,t.dd_no=this.state.dd_no,t.cheque_no=this.state.cheque_no,t.my_account_number=this.state.my_account_number,t.my_bank=this.state.my_bank,t.payment_description=this.state.payment_description,""!==t.payment_type?""!==t.payment_for?""!==t.commodity_group?""!==t.amount?this.state.isValidDate?""!==t.mode_of_payment?(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/payments/update/")+this.state._id,t).then(e=>{this.props.enqueueSnackbar("Payment successfully added",{variant:"success"},this.setState({isPaymentSuccess:!0})),console.log(e)}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})):this.props.enqueueSnackbar("Mode of payment field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Choose proper date !",{variant:"error"}):this.props.enqueueSnackbar("Amount field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Commodity group field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Select the Supplier / Consumer !",{variant:"error"}):this.props.enqueueSnackbar("Payment Type field is mandatory !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_payment:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handlePaymentTypeChange=e=>{if(this.setState({payment_for:e.value}),"supplier"===e.value){this.setState({isInvoiceDisabled:!1});let e=this.state.options;e.payment_for=this.state.options.buffer.suppliers,this.setState({options:e}),this.setState({payment_for:""}),this.setState({payment_type:"supplier"})}else{this.setState({isInvoiceDisabled:!0});let e=this.state.options;e.payment_for=this.state.options.buffer.consumers,this.setState({options:e}),this.setState({payment_for:""}),this.setState({payment_type:"consumer"})}},this.handleModeChange=e=>{const t=e.value;let a={};Object.keys(this.state.visible).map(e=>(a[e]=e===t,null)),this.setState({visible:a}),this.setState({mode_of_payment:t})},this.handleMyAccountChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.componentDidMount=()=>{let e=[],t=[],a=[],n=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{if(console.log("consumes",t.data),0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options.buffer;a.consumers=e,this.setState({buffer:a})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(e=>{if(0!==e.data.length){e.data.map(e=>{let a={};return a.value=e._id,a.label=e.user_name,t.push(a),null});let a=this.state.options.buffer;a.suppliers=t,this.setState({buffer:a})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let t=this.state.options;t.commodities=a,this.setState({options:t})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/admins/")).then(e=>{if(0!==e.data.length){e.data[0].bank_accounts.map(e=>{let t={};return t.value=e.account_no,t.label=e.account_no,n.push(t),null});let t=this.state.options;t.myaccounts=n,this.setState({options:t})}}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/payments/")+this.state._id).then(e=>{this.setState({payment_for:e.data.payment_for,payment_type:e.data.payment_type,commodity_group:e.data.commodity_group,invoice_no:e.data.invoice_no,amount:e.data.amount,date_of_payment:new Date(e.data.date_of_payment),mode_of_payment:e.data.mode_of_payment,bank:e.data.bank,account_holder_name:e.data.account_holder_name,account_number:e.data.account_number,ifsc:e.data.ifsc,dd_no:e.data.dd_no,cheque_no:e.data.cheque_no,my_account_number:e.data.my_account_number,my_bank:e.data.my_bank,payment_description:e.data.payment_description}),""!==this.state.cheque_no?this.setState({visible:{invoice:!1,cash:!1,netbanking:!1,dd:!1,cheque:!0}}):""!==this.state.dd_no?this.setState({visible:{invoice:!1,cash:!1,netbanking:!1,dd:!0,cheque:!1}}):""!==this.state.account_number?this.setState({visible:{invoice:!1,cash:!1,netbanking:!0,dd:!1,cheque:!1}}):this.setState({visible:{invoice:!1,cash:!0,netbanking:!1,dd:!1,cheque:!1}});let t=this.state.options;"supplier"===this.state.payment_type?t.payment_for=this.state.buffer.suppliers:t.payment_for=this.state.buffer.consumers,this.setState({options:t})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null)}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Payment")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Payment information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Payment type"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"payment_type",placeholder:"Payment type...",options:this.state.options.payment_type,value:{value:this.state.payment_type,label:this.state.payment_type},onChange:this.handlePaymentTypeChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Supplier / Consumer"),l.a.createElement(me.a,{name:"payment_for",placeholder:"Choose supplier / consumer...",options:this.state.options.payment_for,value:{value:this.state.payment_for,label:this.getOptionLabel(this.state.payment_for,"payment_for","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity"),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Choose commodity...",options:this.state.options.commodities,value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodities","value","label")},onChange:this.handleSelectChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{disabled:this.state.isInvoiceDisabled,className:"form-control-alternative",id:"input-invoice",name:"invoice_no",value:this.state.invoice_no,autoComplete:"off",placeholder:"Invoice number",type:"text",onChange:this.handleChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-amount"},"Amount"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-amount",name:"amount",value:this.state.amount,placeholder:"Amount",type:"text",autoComplete:"off",onChange:this.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Payment date",disabled:!0},utc:!0,value:this.state.date_of_payment,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange})))))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-city"},"Mode of Payment"),l.a.createElement(me.a,{name:"mode_of_payment",placeholder:"Choose mode of payment...",value:{value:this.state.mode_of_payment,label:this.state.mode_of_payment},options:this.state.options.mode_of_payment,onChange:this.handleModeChange})))),this.state.visible.netbanking?l.a.createElement(Ce,{handleChange:this.handleChange,handleMyAccountChange:this.handleMyAccountChange,state:this.state,options:this.state.options,payment_for:this.state.payment_for}):null,this.state.visible.dd?l.a.createElement(Ne,{handleChange:this.handleChange}):null,this.state.visible.cheque?l.a.createElement(De,{handleChange:this.handleChange}):null),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Payment Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this payment (optional)",type:"textarea",name:"payment_description",onChange:this.handleChange}))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Update Payment")))))),this.state.isPaymentSuccess?l.a.createElement(i.a,{to:"/admin/payments"}):null)}}class Ce extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Net Banking information"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account Number"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"account_number",id:"input-account-no",value:this.props.state.account_number,className:"form-control-alternative",placeholder:"Account No",type:"text",autoComplete:"off",onChange:this.props.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"account_holder_name",id:"input-account-holder-name",value:this.props.state.account_holder_name,className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",autoComplete:"off",onChange:this.props.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"bank",id:"input-bank",value:this.props.state.bank,className:"form-control-alternative",placeholder:"Bank",type:"text",onChange:this.props.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{name:"ifsc",id:"input-ifsc",value:this.props.state.ifsc,className:"form-control-alternative",placeholder:"IFSC",autoComplete:"off",type:"text",onChange:this.props.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"My Account Number"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"my_account_number",placeholder:"Payment for",value:{label:this.props.state.my_account_number,value:this.props.state.my_account_number},options:this.props.options.myaccounts,onChange:this.props.handleMyAccountChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"My Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-account-holder-name",className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",value:this.props.state.my_account_holder_name})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"My Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-bank",className:"form-control-alternative",placeholder:"Bank",type:"text",name:"my_bank",value:this.props.state.my_bank,onChange:this.props.handleChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"My IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-ifsc",className:"form-control-alternative",placeholder:"IFSC",type:"text",value:this.props.state.my_ifsc})))))}}class Ne extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Demand Draft Information"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Demand Draft Number"),l.a.createElement("br",null),l.a.createElement(R.a,{className:"form-control-alternative",placeholder:"Demand Draft number",type:"text",name:"dd_no",value:this.props.dd_no,autoComplete:"off",onChange:this.props.handleChange})))))}}class De extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Cheque Information"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Cheque Number"),l.a.createElement("br",null),l.a.createElement(R.a,{className:"form-control-alternative",placeholder:"Demand Draft number",type:"text",autoComplete:"off",name:"cheque_no",value:this.props.cheque_no,onChange:this.props.handleChange})))))}}var ke=Object(H.withSnackbar)(Se);class xe extends l.a.Component{constructor(...e){super(...e),this.state={expense_type:"",commodity_group:"",expense_for:"",expense_user:null,invoice_no:"",amount:"",date_of_expense:new Date,expense_description:"",isExpenseSuccess:!1,isValidDate:!0,options:{expense_type:[{value:"direct",label:"Direct"},{value:"indirect",label:"InDirect"}],expense_for:[{value:"supplier",label:"Supplier"},{value:"consumer",label:"Consumer"}],user:[],commodities:[]}},this.handleSubmit=e=>{e.preventDefault();let t={};t.expense_type=this.state.expense_type,t.commodity_group=this.state.commodity_group,t.expense_for=this.state.expense_for,t.expense_user=this.state.expense_user,t.invoice_no=this.state.invoice_no,t.amount=this.state.amount,t.date_of_expense=this.state.date_of_expense,t.expense_description=this.state.expense_description,""!==t.expense_type?""!==t.commodity_group?""!==t.amount?this.state.isValidDate?U.a.post("".concat(Q.a.SERVER_URL,"/api/expenses/add"),t).then(e=>{this.props.enqueueSnackbar("Expense successfully added",{variant:"success"},this.setState({isExpenseSuccess:!0})),console.log(e)}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}):this.props.enqueueSnackbar("Choose proper date !",{variant:"error"}):this.props.enqueueSnackbar("Amount field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Commodity field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Expense Type field is mandatory !",{variant:"error"})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleDateChange=e=>{if(console.log(e.format("DD-MM-YYYY")),e.isValid){const t=new Date(e.format("DD-MM-YYYY"));this.setState({date_of_expense:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;console.log(a+" "+n),console.log(t),this.setState({[a]:n})},this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(t=>{0!==t.data.length&&t.data.map(t=>{let a={};return a.value=t._id,a.label=t.commodity_group_name,e.push(a),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})});let t=this.state.options;t.commodities=e,this.setState({options:t})}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Expense")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Expense information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Expense type"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"expense_type",placeholder:"Expense type...",options:this.state.options.expense_type,onChange:this.handleSelectChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity"),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Choose commodity...",options:this.state.options.commodities,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-amount"},"Amount"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-amount",name:"amount",placeholder:"Amount",type:"text",autoComplete:"off",onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Expense date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Expense Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this expense (optional)",type:"textarea",name:"expense_description",onChange:this.handleElementChange}))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{color:"info",onClick:this.handleSubmit},"Save Expense")))))),this.state.isExpenseSuccess?l.a.createElement(i.a,{to:"/admin/expenses"}):null)}}var we=Object(H.withSnackbar)(xe);class Re extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),expense_type:"",commodity_group:"",expense_for:"",expense_user:"",invoice_no:"",amount:"",date_of_expense:new Date,expense_description:"",isExpenseSuccess:!1,isValidDate:!0,options:{expense_type:[{value:"direct",label:"Direct"},{value:"indirect",label:"InDirect"}],expense_for:[{value:"supplier",label:"Supplier"},{value:"consumer",label:"Consumer"}],user:[],commodities:[]}},this.handleSubmit=e=>{e.preventDefault();let t={};t.expense_type=this.state.expense_type,t.commodity_group=this.state.commodity_group,t.expense_for=this.state.expense_for,t.expense_user=this.state.expense_user,t.invoice_no=this.state.invoice_no,t.amount=this.state.amount,t.date_of_expense=this.state.date_of_expense,t.expense_description=this.state.expense_description,""!==t.expense_type?""!==t.commodity_group?""!==t.amount?this.state.isValidDate?U.a.post("".concat(Q.a.SERVER_URL,"/api/expenses/update/")+this.state._id,t).then(e=>{this.props.enqueueSnackbar("Expense updated",{variant:"success"},this.setState({isExpenseSuccess:!0})),console.log(e)}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}):this.props.enqueueSnackbar("Choose proper date !",{variant:"error"}):this.props.enqueueSnackbar("Amount field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Commodity field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Expense Type field is mandatory !",{variant:"error"})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleDateChange=e=>{if(console.log(e.format("DD-MM-YYYY")),e.isValid){const t=new Date(e.format("DD-MM-YYYY"));this.setState({date_of_expense:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;console.log(a+" "+n),console.log(t),this.setState({[a]:n})},this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(t=>{0!==t.data.length&&t.data.map(t=>{let a={};return a.value=t._id,a.label=t.commodity_group_name,e.push(a),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})});let t=this.state.options;t.commodities=e,this.setState({options:t}),U.a.get("".concat(Q.a.SERVER_URL,"/api/expenses/")+this.state._id).then(e=>{this.setState({expense_type:e.data.expense_type,commodity_group:e.data.commodity_group,expense_for:e.data.expense_for,expense_user:e.data.expense_user,invoice_no:e.data.invoice_no,amount:e.data.amount,date_of_expense:new Date(e.data.date_of_expense),expense_description:e.data.expense_description})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null)}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Expense")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Expense information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Expense type"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"expense_type",placeholder:"Expense type...",options:this.state.options.expense_type,value:{value:this.state.expense_type,label:this.getOptionLabel(this.state.expense_type,"expense_type","value","label")},onChange:this.handleSelectChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity"),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Choose commodity...",options:this.state.options.commodities,value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodities","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",value:this.state.invoice_no,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-amount"},"Amount"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-amount",name:"amount",placeholder:"Amount",type:"text",autoComplete:"off",value:this.state.amount,onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Expense date",disabled:!0},utc:!0,value:this.state.date_of_expense,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Expense Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this expense (optional)",type:"textarea",name:"expense_description",value:this.state.expense_description,onChange:this.handleElementChange}))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{color:"info",onClick:this.handleSubmit},"Update Expense")))))),this.state.isExpenseSuccess?l.a.createElement(i.a,{to:"/admin/expenses"}):null)}}var Me=Object(H.withSnackbar)(Re);class Ae extends l.a.Component{constructor(...e){super(...e),this.state={income_type:"",commodity_group:"",income_for:"",income_user:"",invoice_no:"",amount:"",date_of_income:new Date,income_description:"",isIncomeSuccess:!1,isValidDate:!0,options:{income_type:[{value:"direct",label:"Direct"},{value:"indirect",label:"InDirect"},{value:"discount",label:"Discount"}],income_for:[{value:"supplier",label:"Supplier"},{value:"consumer",label:"Consumer"}],user:[],commodities:[],buffer:{consumers:[],suppliers:[]}}},this.handleSubmit=e=>{e.preventDefault();let t={};t.income_type=this.state.income_type,t.commodity_group=this.state.commodity_group,t.income_for=this.state.income_for,t.income_user=this.state.income_user,t.invoice_no=this.state.invoice_no,t.amount=this.state.amount,t.date_of_income=this.state.date_of_income,t.income_description=this.state.income_description,""!==t.income_type?""!==t.commodity_group?""!==t.income_for?""!==t.amount?this.state.isValidDate?U.a.post("".concat(Q.a.SERVER_URL,"/api/incomes/add"),t).then(e=>{this.props.enqueueSnackbar("Income successfully added",{variant:"success"},this.setState({isIncomeSuccess:!0})),console.log(e)}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}):this.props.enqueueSnackbar("Choose proper date !",{variant:"error"}):this.props.enqueueSnackbar("Amount field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Choose Customer or Supplier",{variant:"error"}):this.props.enqueueSnackbar("Commodity field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Income Type field is mandatory !",{variant:"error"})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleDateChange=e=>{if(console.log(e.format("DD-MM-YYYY")),e.isValid){const t=new Date(e.format("DD-MM-YYYY"));this.setState({date_of_income:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;console.log(a+" "+n),console.log(t),this.setState({[a]:n})},this.handleIncomeForChange=e=>{if("supplier"===e.value){let e=this.state.options;e.user=this.state.options.buffer.suppliers,this.setState({options:e,income_for:"supplier"})}else{let e=this.state.options;e.user=this.state.options.buffer.consumers,this.setState({options:e,income_for:"consumer"})}},this.componentDidMount=()=>{let e=[],t=[],a=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{0!==t.data.length&&t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(e=>{0!==e.data.length&&e.data.map(e=>{let a={};return a.value=e._id,a.label=e.user_name,t.push(a),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})});let n={};n.consumers=e,n.suppliers=t,U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{0!==e.data.length&&e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})});let l=this.state.options;l.buffer=n,l.commodities=a,this.setState({options:l})}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Income")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Income information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Income type"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"income_type",placeholder:"Income type...",options:this.state.options.income_type,onChange:this.handleSelectChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity"),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Choose commodity...",options:this.state.options.commodities,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Supplier / Consumer"),l.a.createElement(me.a,{name:"income_for",placeholder:"Choose supplier / consumer...",options:this.state.options.income_for,onChange:this.handleIncomeForChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Name"),l.a.createElement(me.a,{name:"income_user",placeholder:"Choose supplier / consumer.Name ..",options:this.state.options.user,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-amount"},"Amount"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-amount",name:"amount",placeholder:"Amount",type:"text",autoComplete:"off",onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Income date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Income Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this income (optional)",type:"textarea",name:"income_description",onChange:this.handleElementChange}))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{color:"info",onClick:this.handleSubmit},"Save Income")))))),this.state.isIncomeSuccess?l.a.createElement(i.a,{to:"/admin/income"}):null)}}var Pe=Object(H.withSnackbar)(Ae);class Fe extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),income_type:"",commodity_group:"",income_for:"",income_user:"",invoice_no:"",amount:"",date_of_income:new Date,income_description:"",isIncomeSuccess:!1,isValidDate:!0,options:{income_type:[{value:"direct",label:"Direct"},{value:"indirect",label:"InDirect"},{value:"discount",label:"Discount"}],income_for:[{value:"supplier",label:"Supplier"},{value:"consumer",label:"Consumer"}],user:[],commodities:[],buffer:{consumers:[],suppliers:[]}}},this.handleSubmit=e=>{e.preventDefault();let t={};t.income_type=this.state.income_type,t.commodity_group=this.state.commodity_group,t.income_for=this.state.income_for,t.income_user=this.state.income_user,t.invoice_no=this.state.invoice_no,t.amount=this.state.amount,t.date_of_income=this.state.date_of_income,t.income_description=this.state.income_description,""!==t.income_type?""!==t.commodity_group?""!==t.income_for?""!==t.amount?this.state.isValidDate?U.a.post("".concat(Q.a.SERVER_URL,"/api/incomes/update/")+this.state._id,t).then(e=>{this.props.enqueueSnackbar("Income updated",{variant:"success"},this.setState({isIncomeSuccess:!0})),console.log(e)}).catch(e=>{this.props.enqueueSnackbar("Something went wrong, Error["+e+"]",{variant:"warning"}),console.log(e)}):this.props.enqueueSnackbar("Choose proper date !",{variant:"error"}):this.props.enqueueSnackbar("Amount field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Choose Customer or Supplier",{variant:"error"}):this.props.enqueueSnackbar("Commodity field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Income Type field is mandatory !",{variant:"error"})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleDateChange=e=>{if(console.log(e.format("DD-MM-YYYY")),e.isValid){const t=new Date(e.format("DD-MM-YYYY"));this.setState({date_of_income:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;console.log(a+" "+n),console.log(t),this.setState({[a]:n})},this.handleIncomeForChange=e=>{if("supplier"===e.value){let e=this.state.options;e.user=this.state.options.buffer.suppliers,this.setState({options:e,income_for:"supplier"})}else{let e=this.state.options;e.user=this.state.options.buffer.consumers,this.setState({options:e,income_for:"consumer"})}},this.componentDidMount=()=>{let e=[],t=[],a=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{0!==t.data.length&&t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})}),U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(e=>{0!==e.data.length&&e.data.map(e=>{let a={};return a.value=e._id,a.label=e.user_name,t.push(a),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})});let n={};n.consumers=e,n.suppliers=t,U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{0!==e.data.length&&e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})});let l=this.state.options;l.buffer=n,l.commodities=a,this.setState({options:l}),U.a.get("".concat(Q.a.SERVER_URL,"/api/incomes/")+this.state._id).then(e=>{this.setState({income_type:e.data.income_type,commodity_group:e.data.commodity_group,income_for:e.data.income_for,income_user:e.data.income_user,invoice_no:e.data.invoice_no,amount:e.data.amount,date_of_income:new Date(e.data.date_of_income),income_description:e.data.income_description});let t=this.state.options;"supplier"===this.state.income_for?t.user=this.state.options.buffer.suppliers:"consumer"===this.state.income_for&&(t.user=this.state.options.buffer.consumers),this.setState({options:t})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null)}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Income")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Income information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Income type"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"income_type",placeholder:"Income type...",options:this.state.options.income_type,value:{value:this.state.income_type,label:this.getOptionLabel(this.state.income_type,"income_type","value","label")},onChange:this.handleSelectChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity"),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Choose commodity...",options:this.state.options.commodities,value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodities","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Supplier / Consumer"),l.a.createElement(me.a,{name:"income_for",placeholder:"Choose supplier / consumer...",options:this.state.options.income_for,value:{value:this.state.income_for,label:this.state.income_for},onChange:this.handleIncomeForChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Name"),l.a.createElement(me.a,{name:"income_user",placeholder:"Choose supplier / consumer Name ..",options:this.state.options.user,value:{value:this.state.income_user,label:this.getOptionLabel(this.state.income_user,"user","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",value:this.state.invoice_no,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-amount"},"Amount"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-amount",name:"amount",placeholder:"Amount",type:"text",autoComplete:"off",value:this.state.amount,onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Income date",disabled:!0},utc:!0,value:this.state.date_of_income,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Income Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this income (optional)",type:"textarea",name:"income_description",value:this.state.income_description,onChange:this.handleElementChange}))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{color:"info",onClick:this.handleSubmit},"Update Income")))))),this.state.isIncomeSuccess?l.a.createElement(i.a,{to:"/admin/income"}):null)}}var qe=Object(H.withSnackbar)(Fe);class Be extends l.a.Component{constructor(...e){super(...e),this.state={sales_for:"",commodity_group:"",date_of_sales:new Date,total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,sales_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],sales_for:[],buffer:{consumers:[],suppliers:[]}},isSalesSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.sales_for=this.state.sales_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_sales=this.state.date_of_sales,t.total=this.state.total,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.discount_per_metric_ton=""===this.state.discount_per_metric_ton?0:this.state.discount_per_metric_ton,t.discount=this.state.discount,t.net_total=this.state.net_total,""!==t.sales_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.sales_description=this.state.sales_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/sales/add"),t).then(e=>{console.log(e),this.props.enqueueSnackbar("Sales saved successfully with invoice #".concat(e.data," "),{variant:"success"}),this.setState({isSalesSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Sales for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_sales:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount_per_metric_ton:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a,n[t].sub_commodity_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar('Fill "Metric Ton" field before filling Discount per metric ton',{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.sales_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}})},this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Sales")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Sales for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"sales_for",placeholder:"Sales for...",options:this.state.options.sales_for,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Payment date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange})))))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",options:this.state.options.commodity_groups,onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Total",type:"number",value:this.state.total}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange})),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Discount per Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"discount_per_metric_ton",autoComplete:"off",placeholder:"Discount Per Metric Ton",type:"number",value:this.state.discount_per_metric_ton,onChange:this.handleDiscountPerMatricTonChange})),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Discount"),l.a.createElement(R.a,{className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Discount",type:"number",value:this.state.discount,onChange:this.handleDiscountChange}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Sales (optional)",type:"textarea",name:"sales_description",onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Sales")))))),this.state.isSalesSuccess?l.a.createElement(i.a,{to:"/admin/sales"}):null)}}var Te=Object(H.withSnackbar)(Be);class Le extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),sales_for:"",commodity_group:"",date_of_sales:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,sales_description:"",invoice_no:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],sales_for:[],buffer:{consumers:[],suppliers:[]}},isSalesSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.sales_for=this.state.sales_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_sales=this.state.date_of_sales,t.total=this.state.total,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.discount_per_metric_ton=""===this.state.discount_per_metric_ton?0:this.state.discount_per_metric_ton,t.discount=this.state.discount,t.net_total=this.state.net_total,""!==t.sales_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.sales_description=this.state.sales_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/sales/update/").concat(this.state._id),t).then(e=>{console.log(e),this.props.enqueueSnackbar("Sales edited successfully",{variant:"success"}),this.setState({isSalesSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Sales for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_sales:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount_per_metric_ton:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a,n[t].sub_commodity_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar('Fill "Metric Ton" field before filling Discount per metric ton',{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.sales_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/sales/")+this.state._id).then(e=>{let t=new Date(e.data.date_of_sales);this.setState({sales_for:e.data.sales_for,commodity_group:e.data.commodity_group,date_of_sales:t,total:e.data.total,metric_ton:e.data.metric_ton,discount_per_metric_ton:e.data.discount_per_metric_ton,discount:e.data.discount,net_total:e.data.net_total,sales_description:e.data.sales_description,sub_commodities:e.data.sub_commodities,invoice_no:e.data.invoice_no})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null),this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",className:"form-control-alternative",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Edit Sales")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Sales for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"sales_for",placeholder:"Sales for...",options:this.state.options.sales_for,value:{value:this.state.sales_for,label:this.getOptionLabel(this.state.sales_for,"sales_for","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Payment date",disabled:!0},utc:!0,value:this.state.date_of_sales,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement("label",{className:"form-control-label"},"Invoice No"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",type:"text",value:this.state.invoice_no}))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",options:this.state.options.commodity_groups,value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodity_groups","value","label")},onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Total",type:"number",value:this.state.total}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange})),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Discount per Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"discount_per_metric_ton",autoComplete:"off",placeholder:"Discount Per Metric Ton",type:"number",value:this.state.discount_per_metric_ton,onChange:this.handleDiscountPerMatricTonChange})),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Discount"),l.a.createElement(R.a,{className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Discount",type:"number",value:this.state.discount,onChange:this.handleDiscountChange}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Sales (optional)",type:"textarea",name:"sales_description",onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Sales")))))),this.state.isSalesSuccess?l.a.createElement(i.a,{to:"/admin/sales"}):null)}}var je=Object(H.withSnackbar)(Le);class Ve extends l.a.Component{constructor(...e){super(...e),this.state={purchase_for:"",commodity_group:"",date_of_purchase:new Date,invoice_no:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,purchase_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],purchase_for:[]},isPurchaseSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.purchase_for=this.state.purchase_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_purchase=this.state.date_of_purchase,t.invoice_no=this.state.invoice_no,t.total=this.state.total,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.discount_per_metric_ton=""===this.state.discount_per_metric_ton?0:this.state.discount_per_metric_ton,t.discount=this.state.discount,t.net_total=this.state.net_total,""!==t.purchase_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.purchase_description=this.state.purchase_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/purchases/add"),t).then(e=>{console.log(e),this.props.enqueueSnackbar("Purchase saved successfully",{variant:"success"}),this.setState({isPurchaseSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar("Something went wrong, Check back after sometime :(",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Purchase for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(console.log("Date : "+e.format()),console.log("Date : "+e.format("DD-MM-YYYY")),console.log("Date : "+e),e.isValid){const t=e.format();this.setState({date_of_purchase:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a,n[t].sub_commodity_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar("Fill metric ton field before filling Discount per metric ton",{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.purchase_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}})},this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Purchase")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Purchase for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"purchase_for",placeholder:"Purchase for...",options:this.state.options.purchase_for,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Purchase date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",onChange:this.handleChange})))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",options:this.state.options.commodity_groups,onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Total",type:"number",value:this.state.total}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange})),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Discount"),l.a.createElement(R.a,{className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Discount",type:"number",value:this.state.discount,onChange:this.handleDiscountChange}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Purchase (optional)",type:"textarea",name:"purchase_description",onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Purchase")))))),this.state.isPurchaseSuccess?l.a.createElement(i.a,{to:"/admin/purchase"}):null)}}var Ie=Object(H.withSnackbar)(Ve);class Ue extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),purchase_for:"",commodity_group:"",date_of_purchase:"",invoice_no:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,purchase_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],purchase_for:[]},isPurchaseSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.purchase_for=this.state.purchase_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_purchase=this.state.date_of_purchase,t.invoice_no=this.state.invoice_no,t.total=this.state.total,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.discount_per_metric_ton=""===this.state.discount_per_metric_ton?0:this.state.discount_per_metric_ton,t.discount=this.state.discount,t.net_total=this.state.net_total,""!==t.purchase_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.purchase_description=this.state.purchase_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/purchases/update/")+this.state._id,t).then(e=>{console.log(e),this.props.enqueueSnackbar("Purchase edited successfully",{variant:"success"}),this.setState({isPurchaseSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar("Something went wrong, Check back after sometime :(",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Purchase for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(console.log("Date : "+e.format()),console.log("Date : "+e.format("DD-MM-YYYY")),console.log("Date : "+e),e.isValid){const t=e.format();this.setState({date_of_purchase:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a,n[t].sub_commodity_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar("Fill metric ton field before filling Discount per metric ton",{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.purchase_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/purchases/")+this.state._id).then(e=>{this.setState({purchase_for:e.data.purchase_for,commodity_group:e.data.commodity_group,date_of_purchase:new Date(e.data.date_of_purchase),invoice_no:e.data.invoice_no,total:e.data.total,metric_ton:e.data.metric_ton,discount_per_metric_ton:e.data.discount_per_metric_ton,discount:e.data.discount,net_total:e.data.net_total,purchase_description:e.data.purchase_description,sub_commodities:e.data.sub_commodities})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null),this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Edit Purchase")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Purchase for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"purchase_for",placeholder:"Purchase for...",options:this.state.options.purchase_for,value:{value:this.state.purchase_for,label:this.getOptionLabel(this.state.purchase_for,"purchase_for","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Sales date",disabled:!0},utc:!0,dateFormat:"DD-MM-YYYY",timeFormat:!1,value:this.state.date_of_purchase,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"invoice_no",autoComplete:"off",placeholder:"Invoice number",type:"text",value:this.state.invoice_no,onChange:this.handleChange})))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",options:this.state.options.commodity_groups,value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodity_groups","value","label")},onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Total",type:"number",value:this.state.total}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange})),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Discount"),l.a.createElement(R.a,{className:"form-control-alternative",name:"discount",autoComplete:"off",placeholder:"Discount",type:"number",value:this.state.discount,onChange:this.handleDiscountChange}))),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Purchase (optional)",type:"textarea",name:"purchase_description",value:this.state.purchase_description,onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Purchase")))))),this.state.isPurchaseSuccess?l.a.createElement(i.a,{to:"/admin/purchase"}):null)}}var Oe=Object(H.withSnackbar)(Ue);class Ye extends l.a.Component{constructor(...e){super(...e),this.state={sales_return_for:"",commodity_group:"",date_of_sales_return:new Date,sales_invoice_no:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,sales_return_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],sales_return_for:[],buffer:{consumers:[],suppliers:[]}},isSalesSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.sales_return_for=this.state.sales_return_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_sales_return=this.state.date_of_sales_return,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.sales_invoice_no=this.state.sales_invoice_no,t.net_total=this.state.net_total,""!==t.sales_return_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.sales_return_description=this.state.sales_return_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/sales-returns/add"),t).then(e=>{console.log(e),this.props.enqueueSnackbar("Sales Return saved successfully with invoice #".concat(e.data," "),{variant:"success"}),this.setState({isSalesSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar("Something went wrong, Check back after sometime :(",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Sales Return for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_sales_return:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar('Fill "Metric Ton" field before filling Discount per metric ton',{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.sales_return_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}})},this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Sales Return")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales Return"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Sales Return for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"sales_return_for",placeholder:"Sales Return for...",options:this.state.options.sales_return_for,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Payment date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Sales Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"sales_invoice_no",autoComplete:"off",placeholder:"Sales Invoice number",type:"text",onChange:this.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange}))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",options:this.state.options.commodity_groups,onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales Return Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Sales Return (optional)",type:"textarea",name:"sales_return_description",onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Sales Return")))))),this.state.isSalesSuccess?l.a.createElement(i.a,{to:"/admin/sales-return"}):null)}}var Ge=Object(H.withSnackbar)(Ye);class Qe extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),sales_return_for:"",commodity_group:"",date_of_sales_return:new Date,sales_invoice_no:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,sales_return_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],sales_return_for:[]},isSalesSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.sales_return_for=this.state.sales_return_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_sales_return=this.state.date_of_sales_return,t.sales_invoice_no=this.state.sales_invoice_no,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.net_total=this.state.net_total,""!==t.sales_return_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.sales_return_description=this.state.sales_return_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/sales-returns/update/")+this.state._id,t).then(e=>{console.log(e),this.props.enqueueSnackbar("Sales return edited successfully",{variant:"success"}),this.setState({isSalesSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Sales Return for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_sales_return:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar("Fill metric ton field before filling Discount per metric ton",{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.sales_return_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/sales-returns/")+this.state._id).then(e=>{this.setState({sales_return_for:e.data.sales_return_for,commodity_group:e.data.commodity_group,date_of_sales_return:new Date(e.data.date_of_sales_return),sales_invoice_no:e.data.sales_invoice_no,total:e.data.total,metric_ton:e.data.metric_ton,net_total:e.data.net_total,sales_return_description:e.data.sales_return_description,sub_commodities:e.data.sub_commodities})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null),this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Sales Return")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales Return"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Sales Return for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"sales_return_for",placeholder:"Sales Return for...",options:this.state.options.sales_return_for,value:{value:this.state.sales_return_for,label:this.getOptionLabel(this.state.sales_return_for,"sales_return_for","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Sales Return date",disabled:!0},utc:!0,value:this.state.date_of_sales_return,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Sales Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"sales_invoice_no",autoComplete:"off",placeholder:"Sales Invoice number",type:"text",value:this.state.sales_invoice_no,onChange:this.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange}))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodity_groups","value","label")},options:this.state.options.commodity_groups,onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Sales Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Sales (optional)",type:"textarea",name:"sales_return_description",value:this.state.sales_return_description,onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Sales")))))),this.state.isSalesSuccess?l.a.createElement(i.a,{to:"/admin/sales-return"}):null)}}var He=Object(H.withSnackbar)(Qe);class Ze extends l.a.Component{constructor(...e){super(...e),this.state={purchase_return_for:"",commodity_group:"",date_of_purchase_return:new Date,purchase_invoice_no:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,purchase_return_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],purchase_return_for:[]},isPurchaseSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.purchase_return_for=this.state.purchase_return_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_purchase_return=this.state.date_of_purchase_return,t.purchase_invoice_no=this.state.purchase_invoice_no,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.net_total=this.state.net_total,""!==t.purchase_return_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.purchase_return_description=this.state.purchase_return_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/purchase-returns/add"),t).then(e=>{console.log(e),this.props.enqueueSnackbar("Purchase return saved successfully with ID #".concat(e.data),{variant:"success"}),this.setState({isPurchaseSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar("Something went wrong, Check back after sometime :(",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Purchase Return for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_purchase_return:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar("Fill metric ton field before filling Discount per metric ton",{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.purchase_return_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}})},this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Purchase Return")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase Return"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Purchase Return for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"purchase_return_for",placeholder:"Purchase Return for...",options:this.state.options.purchase_return_for,onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Payment date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Purchase Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"purchase_invoice_no",autoComplete:"off",placeholder:"Purchase Invoice number",type:"text",onChange:this.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange}))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",options:this.state.options.commodity_groups,onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Purchase (optional)",type:"textarea",name:"purchase_return_description",onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Purchase")))))),this.state.isPurchaseSuccess?l.a.createElement(i.a,{to:"/admin/purchase-return"}):null)}}var ze=Object(H.withSnackbar)(Ze);class We extends l.a.Component{constructor(...e){super(...e),this.state={_id:new URLSearchParams(this.props.location.search).get("id"),purchase_return_for:"",commodity_group:"",date_of_purchase_return:new Date,purchase_invoice_no:"",total:0,metric_ton:"",discount_per_metric_ton:"",discount:0,net_total:0,purchase_return_description:"",sub_commodities:[],commodity_groups:[],options:{commodity_groups:[],purchase_return_for:[]},isPurchaseSuccess:!1,isSubmitBtnDisabled:!1},this.handleSubmit=e=>{let t={};t.purchase_return_for=this.state.purchase_return_for,t.commodity_group=this.state.commodity_group,t.sub_commodities=[];let a=!1;this.state.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity>0&&(a=!0,t.sub_commodities.push(e)),null)),a?(t.date_of_purchase_return=this.state.date_of_purchase_return,t.purchase_invoice_no=this.state.purchase_invoice_no,t.metric_ton=""===this.state.metric_ton?0:this.state.metric_ton,t.net_total=this.state.net_total,""!==t.purchase_return_for?""!==t.commodity_group_name?t.discount>t.total?this.props.enqueueSnackbar("Discount can't be greater than total !",{variant:"error"}):(t.purchase_return_description=this.state.purchase_return_description,this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/purchase-returns/update/")+this.state._id,t).then(e=>{console.log(e),this.props.enqueueSnackbar("Purchase return edited successfully",{variant:"success"}),this.setState({isPurchaseSuccess:!0})}).catch(e=>{this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"}),console.log(e)})):this.props.enqueueSnackbar("Commodity group is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Purchase Return for is mandatory !",{variant:"error"})):this.props.enqueueSnackbar("Atleast one commodity's quantity should be greater than 0 !",{variant:"error"})},this.handleChange=e=>{const t=e.target.name,a=e.target.value;this.setState({[t]:a})},this.handleSelectChange=(e,t)=>{const a=t.name,n=e.value;this.setState({[a]:n})},this.handleDateChange=e=>{if(e.isValid){const t=e.format();this.setState({date_of_purchase_return:t},console.log(this.state)),this.setState({isValidDate:!0})}else this.setState({isValidDate:!1}),console.log("Date incorrect")},this.handleCommodityGroupSelectChange=(e,t)=>{const a=e.value;this.state.commodity_groups.map(e=>e._id===a?(this.setState({sub_commodities:e.sub_commodities,total:0,discount:0,net_total:0}),null):null),this.handleSelectChange(e,t)},this.handleQuantityChange=e=>{const t=e.target.id,a=e.target.value;if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_transacted_quantity=a;const l=n[t].sub_commodity_price_per_unit;void 0!==l&&(n[t].sub_commodity_price=a*l),this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleTotalAutoFill=()=>{let e=0;this.state.sub_commodities.map(t=>(t.sub_commodity_price>0&&(e+=t.sub_commodity_price),null));const t=e-this.state.discount;this.setState({total:e}),this.setState({net_total:t})},this.handlePricePerUnitChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;const n=this.state.sub_commodities[t].sub_commodity_transacted_quantity;let l=this.state.sub_commodities;l[t].sub_commodity_price_per_unit=a,l[t].sub_commodity_price=n*a,l[t].sub_commodity_price=Math.round(100*l[t].sub_commodity_price)/100,this.setState({sub_commodities:l},this.handleTotalAutoFill())},this.handleCommodityPriceChange=e=>{const t=e.target.id,a=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(!this.isMinCheckPassed(a))return;let n=this.state.sub_commodities;n[t].sub_commodity_price=a;const l=n[t].sub_commodity_transacted_quantity;n[t].sub_commodity_price_per_unit=a/l,n[t].sub_commodity_price_per_unit=Math.round(100*n[t].sub_commodity_price_per_unit)/100,this.setState({sub_commodities:n},this.handleTotalAutoFill())},this.handleMetricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(this.isMinCheckPassed(t))if(this.setState({metric_ton:t}),""!==this.state.discount_per_metric_ton&&0!==this.state.discount_per_metric_ton){let e=t*this.state.discount_per_metric_ton;e=Math.round(100*e)/100,this.setState({discount:e},this.handleTotalAutoFill)}else if(""!==this.state.discount&&0!==this.state.discount){const e=Math.round(this.state.discount/t*100)/100;this.setState({discount_per_metric_ton:e})}},this.handleDiscountPerMatricTonChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if((""===this.state.metric_ton||0===this.state.matric_ton)&&(""===this.state.discount_per_metric_ton||0===this.state.discount_per_metric_ton))return void this.props.enqueueSnackbar("Fill metric ton field before filling Discount per metric ton",{variant:"warning"});if(!this.isMinCheckPassed(t))return;this.setState({discount_per_metric_ton:t});const a=this.state.metric_ton*t;this.setState({discount:a},this.handleTotalAutoFill)},this.handleDiscountChange=e=>{const t=""!==e.target.value?Math.round(100*e.target.value)/100:"";if(""!==this.state.metric_ton&&0!==this.state.metric_ton){const e=Math.round(t/this.state.metric_ton*100)/100;this.setState({discount_per_metric_ton:e})}this.setState({discount:t},this.handleTotalAutoFill)},this.isMinCheckPassed=e=>!(e<0)||(this.props.enqueueSnackbar("Value can't be less than 0 !",{variant:"error"}),!1),this.componentDidMount=()=>{let e=[];U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/")).then(t=>{if(0!==t.data.length){t.data.map(t=>{let a={};return a.value=t._id,a.label=t.user_name,e.push(a),null});let a=this.state.options;a.purchase_return_for=e,this.setState({options:a})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{if(0!==e.data.length){let t=[];e.data.map(e=>(e.sub_commodities.map(e=>(e.sub_commodity_transacted_quantity=0,e.sub_commodity_price_per_unit=0,e.sub_commodity_price=0,null)),t.push(e),null)),this.setState({commodity_groups:t});let a=[];e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.push(t),null});let n=this.state.options;n.commodity_groups=a,this.setState({options:n})}}),U.a.get("".concat(Q.a.SERVER_URL,"/api/purchase-returns/")+this.state._id).then(e=>{this.setState({purchase_return_for:e.data.purchase_return_for,commodity_group:e.data.commodity_group,date_of_purchase_return:new Date(e.data.date_of_purchase_return),purchase_invoice_no:e.data.purchase_invoice_no,total:e.data.total,metric_ton:e.data.metric_ton,net_total:e.data.net_total,purchase_return_description:e.data.purchase_return_description,sub_commodities:e.data.sub_commodities})})},this.getOptionLabel=(e,t,a,n)=>this.state.options[t].map(t=>t[a]===e?t[n]:null),this.constructCommodities=()=>this.state.sub_commodities.map((e,t)=>l.a.createElement(f.a,{key:t},l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity name"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_name",placeholder:"Commodity name",className:"form-control-alternative",type:"text",value:e.sub_commodity_name,autoComplete:"off",disabled:!0}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity quantity"),l.a.createElement("br",null),l.a.createElement(w.a,null,l.a.createElement(R.a,{id:t,placeholder:"Quantity",type:"number",value:e.sub_commodity_transacted_quantity,autoComplete:"off",onChange:this.handleQuantityChange})))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Price / unit"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,placeholder:"Commodity Price / unit",className:"form-control-alternative",type:"number",value:e.sub_commodity_price_per_unit,autoComplete:"off",onChange:this.handlePricePerUnitChange}))),l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity price"),l.a.createElement("br",null),l.a.createElement(R.a,{id:t,name:"sub_commodity_total",placeholder:"Commodity Total",className:"form-control-alternative",type:"number",value:e.sub_commodity_price,autoComplete:"off",onChange:this.handleCommodityPriceChange})))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Purchase Return")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase Return"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Purchase Return for"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"purchase_return_for",placeholder:"Purchase Return for...",options:this.state.options.purchase_return_for,value:{value:this.state.purchase_return_for,label:this.getOptionLabel(this.state.purchase_return_for,"purchase_return_for","value","label")},onChange:this.handleSelectChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Date"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"Purchase Return date",disabled:!0},utc:!0,value:this.state.date_of_purchase_return,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-invoice"},"Purchase Invoice number"),l.a.createElement(R.a,{className:"form-control-alternative",id:"input-invoice",name:"purchase_invoice_no",autoComplete:"off",placeholder:"Purchase Invoice number",type:"text",value:this.state.purchase_invoice_no,onChange:this.handleChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement("label",{className:"form-control-label"},"Metric Ton"),l.a.createElement(R.a,{className:"form-control-alternative",name:"metric_ton",autoComplete:"off",placeholder:"Metric Ton",type:"number",value:this.state.metric_ton,onChange:this.handleMetricTonChange}))))),l.a.createElement("hr",null),l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Commodities"),l.a.createElement(y.a,{lg:"12"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"Commodity group"),l.a.createElement("br",null),l.a.createElement(me.a,{name:"commodity_group",placeholder:"Commodity group...",value:{value:this.state.commodity_group,label:this.getOptionLabel(this.state.commodity_group,"commodity_groups","value","label")},options:this.state.options.commodity_groups,onChange:this.handleCommodityGroupSelectChange}))),l.a.createElement("div",null,this.constructCommodities()),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"}),l.a.createElement(y.a,{lg:"3"},l.a.createElement("label",{className:"form-control-label"},"Net Total"),l.a.createElement(R.a,{disabled:!0,className:"form-control-alternative",autoComplete:"off",placeholder:"0",type:"number",value:this.state.net_total})))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Purchase Description"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(L.a,null,l.a.createElement(R.a,{className:"form-control-alternative",rows:"4",placeholder:"Description about this Purchase (optional)",type:"textarea",name:"purchase_return_description",value:this.state.purchase_return_description,onChange:this.handleChange})))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"info",onClick:this.handleSubmit},"Save Purchase")))))),this.state.isPurchaseSuccess?l.a.createElement(i.a,{to:"/admin/purchase-return"}):null)}}var Ke=Object(H.withSnackbar)(We),Xe=a(572);class Je extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},l.a.createElement(c.a,{fluid:!0},l.a.createElement("div",{className:"header-body"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6",xl:"3"},l.a.createElement(q.a,{className:"card-stats mb-4 mb-xl-0"},l.a.createElement(T.a,null,l.a.createElement(f.a,null,l.a.createElement("div",{className:"col"},l.a.createElement(Xe.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Commodities"),l.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"84")),l.a.createElement(y.a,{className:"col-auto"},l.a.createElement("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow"},l.a.createElement("i",{className:"fas fa-chart-bar"})))),l.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},l.a.createElement("span",{className:"text-success mr-2"},l.a.createElement("i",{className:"fa fa-arrow-up"})," 3.48%")," ",l.a.createElement("span",{className:"text-nowrap"},"Since last month"))))),l.a.createElement(y.a,{lg:"6",xl:"3"},l.a.createElement(q.a,{className:"card-stats mb-4 mb-xl-0"},l.a.createElement(T.a,null,l.a.createElement(f.a,null,l.a.createElement("div",{className:"col"},l.a.createElement(Xe.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Consumers"),l.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"23")),l.a.createElement(y.a,{className:"col-auto"},l.a.createElement("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow"},l.a.createElement("i",{className:"fas fa-chart-pie"})))),l.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},l.a.createElement("span",{className:"text-danger mr-2"},l.a.createElement("i",{className:"fas fa-arrow-down"})," 3.48%")," ",l.a.createElement("span",{className:"text-nowrap"},"Since last week"))))),l.a.createElement(y.a,{lg:"6",xl:"3"},l.a.createElement(q.a,{className:"card-stats mb-4 mb-xl-0"},l.a.createElement(T.a,null,l.a.createElement(f.a,null,l.a.createElement("div",{className:"col"},l.a.createElement(Xe.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Sales"),l.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"924")),l.a.createElement(y.a,{className:"col-auto"},l.a.createElement("div",{className:"icon icon-shape bg-yellow text-white rounded-circle shadow"},l.a.createElement("i",{className:"fas fa-users"})))),l.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},l.a.createElement("span",{className:"text-warning mr-2"},l.a.createElement("i",{className:"fas fa-arrow-down"})," 1.10%")," ",l.a.createElement("span",{className:"text-nowrap"},"Since yesterday"))))),l.a.createElement(y.a,{lg:"6",xl:"3"},l.a.createElement(q.a,{className:"card-stats mb-4 mb-xl-0"},l.a.createElement(T.a,null,l.a.createElement(f.a,null,l.a.createElement("div",{className:"col"},l.a.createElement(Xe.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Income"),l.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"49,65%")),l.a.createElement(y.a,{className:"col-auto"},l.a.createElement("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow"},l.a.createElement("i",{className:"fas fa-percent"})))),l.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},l.a.createElement("span",{className:"text-success mr-2"},l.a.createElement("i",{className:"fas fa-arrow-up"})," 12%")," ",l.a.createElement("span",{className:"text-nowrap"},"Since last month"))))))))))}}var $e=Je,et=a(68),tt=a.n(et),at=a(338),nt=a(214);class lt extends l.a.Component{constructor(...e){super(...e),this.state={commodities:[],options:{commodities:[]},charts:{commodityChart:{data:{labels:[],datasets:[{label:"Commodities",backgroundColor:"rgba(176,42,176,0.25)",borderColor:"rgba(176,42,176,1)",borderWidth:1,hoverBackgroundColor:"rgba(176,42,176,0.4)",hoverBorderColor:"rgba(176,42,176,1)",data:[]}]}}}},this.handleCommoditySelectChange=(e,t)=>{const a=e.value;this.setState(),this.constructChartForCommodityGroup(a)},this.constructChartForCommodityGroup=e=>{U.a.get("".concat(Q.a.SERVER_URL,"/api/admins/stock/").concat(e)).then(e=>{let t=0,a=[],n=[];e.data.map(e=>(a.push(e.Stock),n.push(e._id),e.Stock>t&&(t=e.Stock),null)),0!==t&&a.push(Math.ceil(1.2*t)<10?10:Math.ceil(1.2*t));let l=this.state.charts;l.commodityChart.data.datasets[0].data=a,l.commodityChart.data.labels=n,this.setState({charts:l})}).catch(e=>console.log(e))}}componentDidMount(){U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/")).then(e=>{console.log(e);let t=[...e.data];this.setState({commodities:t},()=>{this.constructChartForCommodityGroup(e.data[0]._id)});let a=this.state.options;e.data.map(e=>{let t={};return t.value=e._id,t.label=e.commodity_group_name,a.commodities.push(t),null}),this.setState({options:a})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})}componentWillMount(){window.Chart&&Object(nt.parseOptions)(tt.a,Object(nt.chartOptions)())}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{className:"mt--7",fluid:!0},l.a.createElement(f.a,null,l.a.createElement(y.a,{xl:"12"},l.a.createElement(q.a,{className:"shadow"},l.a.createElement(B.a,{className:"bg-transparent"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement("div",{className:"col"},l.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Stock"),l.a.createElement("h2",{className:"mb-0"},"Total Stock")),l.a.createElement(y.a,{className:"text-right"},l.a.createElement(me.a,{placeholder:void 0!==this.state.options.commodities[0]?this.state.options.commodities[0].label:"",options:this.state.options.commodities,onChange:this.handleCommoditySelectChange})))),l.a.createElement(T.a,null,l.a.createElement("div",{className:"chart"},l.a.createElement(at.a,{data:this.state.charts.commodityChart.data,className:"chart-canvas",id:"chart-bars"}))))))))}}var st=Object(H.withSnackbar)(lt);class ot extends l.a.Component{render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement($e,null),l.a.createElement(st,null))}}var rt=ot;l.a.Component;var it=a(10),ct=a.n(it),mt=a(72),ut=a.n(mt),dt=a(172),ht=a(295),pt=a(574);const bt=Object(ht.a)({grid:{padding:"0 15px !important"}});function _t(e){const t=bt(),a=e.children,n=Object(dt.a)(e,["children"]);return l.a.createElement(pt.a,Object.assign({item:!0},n,{className:t.grid}),a)}const Et=Object(ht.a)({grid:{margin:"0 -15px !important",width:"unset"}});function gt(e){const t=Et(),a=e.children,n=Object(dt.a)(e,["children"]);return l.a.createElement(pt.a,Object.assign({container:!0},n,{className:t.grid}),a)}var ft=a(154),yt=a(566),vt=a(5),St=a(209),Ct=a.n(St),Nt=a(314),Dt=a(315),kt=a(316),xt=a(575),wt=a(318),Rt=a(317),Mt=a(165),At=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={admin_name:"",user:{user_name:""},from:"",to:"",data:[],opening_balance:"",closing_balance:""},e.componentDidMount=function(){""!==e.props.user_id&&e.getUserData(),U.a.get("".concat(Q.a.SERVER_URL,"/api/admins")).then((function(t){if(t.data[0]){var a=t.data[0].user_name;e.setState({admin_name:a})}else e.props.enqueueSnackbar("NO RESULT",{variant:"success"})})).catch((function(t){e.props.enqueueSnackbar(void 0!==t.response?void 0!==t.response.data.message?t.response.data.message:"Something went wrong!!!!!!!":"Something went wrong!!!!",{variant:"warning"})})),e.props.data.length>0&&(e.setState({opening_balance:e.props.data[0].opening_balance}),e.setState({closing_balance:e.props.data[e.props.data.length-1].closing_balance}));var t=[];e.props.data.map((function(e){var a=[];e.particulars.map((function(e){return a.push(l.a.createElement("div",null," ",e.sub_commodity_name+" "+e.sub_commodity_quantity))})),e.particulars=a;var n="";return n+=new Date(e.date_of_transaction).getDate()+"-",n+=new Date(e.date_of_transaction).getMonth()+"-",n+=new Date(e.date_of_transaction).getFullYear(),e.date_of_transaction=n,t.push(e)})),e.setState({data:t});var a="";a+=new Date(e.props.from).getDate()+"-",a+=new Date(e.props.from).getMonth()+"-",a+=new Date(e.props.from).getFullYear(),e.setState({from:a});var n="";n+=new Date(e.props.to).getDate()+"-",n+=new Date(e.props.to).getMonth()+"-",n+=new Date(e.props.to).getFullYear(),e.setState({to:n})},e.getUserData=function(){U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/").concat(e.props.user_id)).then((function(t){e.setState({user:t.data})})).catch((function(t){e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"Something went wrong!",{variant:"warning"})}))},e.tableStyles={paddingLeft:"50px",paddingRight:"50px"},e}return Object(J.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{xs:"4"}),l.a.createElement(y.a,{xs:"4",align:"center"},l.a.createElement("h3",null,this.state.admin_name)),l.a.createElement(y.a,{xs:"4"})),l.a.createElement(f.a,{align:"center"},l.a.createElement(y.a,{xs:"12"},l.a.createElement("h1",{className:"mb-0"},""===this.props.user_id?"STATEMENT":this.state.user.user_name.toLocaleUpperCase()+"'s STATEMENT"))),l.a.createElement(f.a,{align:"center"},l.a.createElement(y.a,{xs:"12"},l.a.createElement("h3",{className:"mb-0"},this.state.from," TO ",this.state.to))),l.a.createElement("div",{style:{padding:"50px"}},l.a.createElement(f.a,null,""===this.props.user_id?l.a.createElement(y.a,{xs:"4"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{xs:"4"},l.a.createElement(f.a,null,"Address :"),l.a.createElement(f.a,null,this.state.user.user_name),l.a.createElement(f.a,null,this.state.user.address),l.a.createElement(f.a,null,this.state.user.district),l.a.createElement(f.a,null,this.state.user.state),l.a.createElement(f.a,null,this.state.user.pincode),l.a.createElement(f.a,null,"PHONE NO : "+this.state.user.phone))),l.a.createElement(y.a,{xs:"4"}))),l.a.createElement("div",{style:this.tableStyles},l.a.createElement(xt.a,{component:Mt.a},l.a.createElement(Nt.a,{"aria-label":"simple table"},l.a.createElement(wt.a,null,l.a.createElement(Rt.a,null,l.a.createElement(kt.a,{align:"left"},"Date"),l.a.createElement(kt.a,{align:"left"},"Type"),l.a.createElement(kt.a,{align:"left"},"Particulars"),l.a.createElement(kt.a,{align:"left"},"Debit"),l.a.createElement(kt.a,{align:"left"},"Credit"))),l.a.createElement(Dt.a,null,this.state.data.map((function(e,t){return l.a.createElement(Rt.a,{key:t},console.log(e),l.a.createElement(kt.a,{align:"left"},e.date_of_transaction),l.a.createElement(kt.a,{align:"left"},e.transaction_type),l.a.createElement(kt.a,{align:"left"},e.particulars),l.a.createElement(kt.a,{align:"left"},e.debit),l.a.createElement(kt.a,{align:"left"},e.credit))})))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(y.a,{xs:"3",align:"center"},"Date"),l.a.createElement(y.a,{xs:"3/"}),l.a.createElement(y.a,{xs:"3"}),l.a.createElement(y.a,{xs:"3",align:"right"},"Signature")))}}]),a}(l.a.Component),Pt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={data:[],from_date:(new Date).toISOString(),to_date:(new Date).toISOString(),options:{users:[]},filter:{user_id:""},isValidFromDate:!1,isValidToDate:!1,isDataReceived:!1,closing_balance:"",opening_balance:"",isStatement:!1},e.componentDidMount=function(){U.a.get(e.props.getUsersLink).then((function(t){var a=[];t.data.map((function(e){var t={};return t.value=e._id,t.label=e.user_name,a.push(t),null}));var n=e.state.options;n.users=a,e.setState({options:n})})).catch((function(t){e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"Something went wrong!",{variant:"warning"})}))},e.handleFilterSelectChange=function(t,a){var n=a.name,l=t.value,s=e.state.filter;s[n]=l,e.setState({filter:s})},e.getdata=function(t){var a=e.props.submitLink;e.setState({isDataReceived:!1});var n=new Date(e.state.from_date),l=new Date(e.state.to_date);console.log(e.state),console.log(l-n),l-n>=0?(n.setHours(0,0,0,0),l.setHours(23,59,59,99),e.props.disableSubmitButton(!0),U.a.get(a+"".concat(n.toISOString(),"/").concat(l.toISOString(),"/").concat(e.state.filter.user_id)).then((function(t){e.props.disableSubmitButton(!1);var a=[];"statement"===e.props.module&&(e.setState({isStatement:!0}),e.setState({opening_balance:t.data[0].opening_balance}),e.setState({closing_balance:t.data[0].closing_balance})),t.data.forEach((function(e){a.push(e)})),e.setState({data:a}),e.setState({isDataReceived:!0})})).catch((function(t){e.props.enqueueSnackbar(void 0!==t.response&&void 0!==t.response.data.message?t.response.data.message:"No Result Found",{variant:"warning"})}))):e.props.enqueueSnackbar("From date should should be less than To Date",{variant:"error"})},e.handleFromDateChange=function(t){if(t.isValid){var a=t.format();e.setState({from_date:a},console.log(e.state)),e.setState({isValidFromDate:!0})}else e.setState({isValidFromDate:!1})},e.handleToDateChange=function(t){if(t.isValid){var a=t.format();e.setState({to_date:a},console.log(e.state)),e.setState({isValidToDate:!0})}else e.setState({isValidToDate:!1})},e}return Object(J.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Statement")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Statement"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"From"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"From date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleFromDateChange}))))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label"},"To"),l.a.createElement(L.a,null,l.a.createElement(w.a,{className:"input-group-alternative"},l.a.createElement(M.a,{addonType:"prepend"},l.a.createElement(A.a,null,l.a.createElement("i",{className:"ni ni-calendar-grid-58"}))),l.a.createElement(_e.a,{inputProps:{placeholder:"To date"},utc:!0,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:this.handleToDateChange})))))),l.a.createElement("h6",{className:"heading-small text-muted"},"Filter by"),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"3"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-Commodity"},"User"),l.a.createElement("br",null),l.a.createElement(me.a,{placeholder:"Select user",name:"user_id",options:this.state.options.users,onChange:this.handleFilterSelectChange}))))))),l.a.createElement(j.a,null,l.a.createElement(V.a,{disabled:this.props.isSubmitBtnDisabled,color:"info",onClick:this.getdata},"Get List"))))),this.state.isDataReceived?l.a.createElement(Ft,{user_id:this.state.filter.user_id,data:this.state.data,columns:this.props.columns,generateTableData:this.props.generateTableData,module:this.props.module,from:this.state.from_date,to:this.state.to_date,options:this.props.options,opening_balance:this.state.opening_balance,closing_balance:this.state.closing_balance,isStatement:this.state.isStatement}):""))}}]),a}(l.a.Component),Ft=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).getMuiTheme=function(){return Object(ft.a)({overrides:{MUIDataTable:{root:{},paper:{}},MUIDataTableBodyCell:{root:{}}}})},e.generateTableData=e.props.generateTableData,e.printStatement=function(){},e}return Object(J.a)(a,[{key:"render",value:function(){var e=this,t=this.props.columns,a=this.props.options;return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Statement List"),l.a.createElement("div",{className:"pl-lg-4"},this.props.statement))),l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Statements")))),l.a.createElement(T.a,null,this.props.isStatement?l.a.createElement(qt,{opening_balance:this.props.opening_balance,closing_balance:this.props.closing_balance}):"",l.a.createElement(gt,null,l.a.createElement(_t,{xs:12,sm:12,md:12},l.a.createElement(yt.a,{theme:this.getMuiTheme()},l.a.createElement(ut.a,{title:"",data:this.generateTableData(this.props.data),columns:t,options:a}))))),"statement"===this.props.module&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,{trigger:function(){return l.a.createElement(j.a,null,l.a.createElement("div",{className:"text-center"},l.a.createElement(V.a,{className:"col-md-4",color:"default",onClick:e.printStatement},"Print Statement")))},content:function(){return e.componentRef}}),l.a.createElement("div",{style:{display:"none"}},l.a.createElement(At,{user_id:this.props.user_id,data:this.props.data,from:this.props.from,to:this.props.to,ref:function(t){return e.componentRef=t}}))))))}}]),a}(l.a.Component),qt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null)}}]),a}(l.a.Component),Bt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"DateSearch.js"})(Pt)),Tt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.users[0]?e.users[0].user_name:"",e.commodity_groups[0].commodity_group_name,e.date_of_payment,e.invoice_no,e.amount,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/payments/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Name",label:"Name",options:{filter:!0,sort:!0}},{name:"Commodity",label:"Commodity",options:{filter:!0,sort:!1}},{name:"Date",label:"Date",options:{filter:!0,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Invoice Number",label:"Invoice Number",options:{filter:!0,sort:!1}},{name:"Amount",label:"Amount",options:{filter:!0,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Payment",redirectURL:"/admin/payments/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/users/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/payments/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component),Lt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"StatementsListView.js"})(Tt));class jt extends l.a.Component{constructor(e){super(e),this.getMuiTheme=()=>Object(ft.a)({overrides:{MUIDataTable:{root:{},paper:{}},MUIDataTableBodyCell:{root:{}}}}),this.generateTableData=e=>{const t=[];return e.forEach(e=>{let a=[e.user_name,e.address+"*"+e.district,e.phone,e.email_id,e.account_no,e.balance,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:()=>{window.location.href="/admin/consumers/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"}))),l.a.createElement(V.a,{className:"btn-icon btn-2 btn-danger",size:"sm",color:"primary",type:"button",onClick:()=>{this.handleDelete(e._id)}},l.a.createElement("span",{className:"btn-inner--icon"},"----"))];a.push(),t.push(a)}),t.reverse(),t},this.handleDelete=e=>{U.a.delete("".concat(Q.a.SERVER_URL,"/api/consumers/")+e).then(e=>{this.props.enqueueSnackbar("Consumer Deleted",{variant:"success"})}).then(this.getData())},this.state={consumers:[]}}componentDidMount(){this.getData()}getData(){U.a.get("".concat(Q.a.SERVER_URL,"/api/consumers/"),{}).then(e=>{let t=[];e.data.forEach(e=>{t.push(e)}),this.setState({consumers:t})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})}render(){const e=[{name:"Name",label:"Name",options:{filter:!0,sort:!0,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Address",label:"Address",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0}),customBodyRender:(e,t,a)=>{var n=e.split("*");return l.a.createElement("div",null,l.a.createElement("div",null,n[0]),l.a.createElement("div",null,n[1]))}}},{name:"Phone",label:"Phone",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Email-Id",label:"Email-Id",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Account Number",label:"Account Number",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Balance",label:"Balance",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Delete",label:"",options:{filter:!1,sort:!1,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}}],t={responsive:"scroll",selectableRows:!1,setRowProps:e=>({className:ct()({}),style:{}}),setTableProps:()=>({})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Register Consumer",redirectURL:"/admin/consumers/add"}),l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Consumers")))),l.a.createElement(T.a,null,l.a.createElement(gt,null,l.a.createElement(_t,{xs:12,sm:12,md:12},l.a.createElement(yt.a,{theme:this.getMuiTheme()},l.a.createElement(ut.a,{title:"",data:this.generateTableData(this.state.consumers),columns:e,options:t}))))))))}}var Vt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"ConsumersListView.js"})(jt));class It extends l.a.Component{constructor(e){super(e),this.getMuiTheme=()=>Object(ft.a)({overrides:{MUIDataTable:{root:{},paper:{}},MUIDataTableBodyCell:{root:{backgroundColor:"#FFF"}}}}),this.generateTableData=e=>{const t=[];return e.forEach(e=>{let a=[e.user_name,e.address+"*"+e.district,e.phone,e.email_id,e.account_no,e.balance,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:()=>{window.location.href="/admin/suppliers/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"}))),l.a.createElement(V.a,{className:"btn-icon btn-2 btn-danger",size:"sm",color:"primary",type:"button",onClick:()=>{this.handleDelete(e._id)}},l.a.createElement("span",{className:"btn-inner--icon"},"----"))];a.push(),t.push(a)}),t.reverse(),t},this.handleDelete=e=>{U.a.delete("".concat(Q.a.SERVER_URL,"/api/suppliers/")+e).then(e=>{this.props.enqueueSnackbar("Supplier Deleted",{variant:"success"})}).then(this.getData())},this.state={suppliers:[]}}componentDidMount(){this.getData()}getData(){U.a.get("".concat(Q.a.SERVER_URL,"/api/suppliers/"),{}).then(e=>{let t=[];e.data.forEach(e=>{t.push(e)}),this.setState({suppliers:t})}).catch(e=>{console.log(e),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})}render(){const e=[{name:"Name",label:"Name",options:{filter:!0,sort:!0,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Address",label:"Address",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0}),customBodyRender:(e,t,a)=>{var n=e.split("*");return l.a.createElement("div",null,l.a.createElement("div",null,n[0]),l.a.createElement("div",null,n[1]))}}},{name:"Phone",label:"Phone",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Email-Id",label:"Email-Id",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Account Number",label:"Account Number",options:{filter:!0,sort:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Balance",label:"Balance",options:{filter:!0,sort:!0,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Delete",label:"",options:{filter:!1,sort:!1,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}}],t={responsive:"scroll",selectableRows:!1,setRowProps:e=>({className:ct()({}),style:{}}),setTableProps:()=>({})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Register Supplier",redirectURL:"/admin/suppliers/add"}),l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Suppliers")))),l.a.createElement(T.a,null,l.a.createElement(gt,null,l.a.createElement(_t,{xs:12,sm:12,md:12},l.a.createElement(yt.a,{theme:this.getMuiTheme()},l.a.createElement(ut.a,{title:"",data:this.generateTableData(this.state.suppliers),columns:e,options:t}))))))))}}var Ut=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"SuppliersListView.js"})(It));class Ot extends l.a.Component{constructor(e){super(e),this.getMuiTheme=()=>Object(ft.a)({overrides:{MUIDataTable:{root:{},paper:{}},MUIDataTableBodyCell:{root:{}}}}),this.generateTableData=e=>{const t=[];return e.forEach(e=>{let a=[e.commodity_group_name,e.sub_commodities.length,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:()=>{window.location.href="/admin/commodities/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"}))),l.a.createElement(V.a,{className:"btn-icon btn-2 btn-danger",size:"sm",color:"primary",type:"button",onClick:()=>{this.handleDelete(e._id)}},l.a.createElement("span",{className:"btn-inner--icon"},"----"))];a.push(),t.push(a)}),t.reverse(),t},this.handleDelete=e=>{U.a.delete("".concat(Q.a.SERVER_URL,"/api/commodities/")+e).then(e=>{this.props.enqueueSnackbar("Commodity Deleted",{variant:"success"})}).then(this.getData())},this.state={commodities:[]}}componentDidMount(){this.getData()}getData(){U.a.get("".concat(Q.a.SERVER_URL,"/api/commodities/"),{}).then(e=>{let t=[];e.data.forEach(e=>{t.push(e)}),this.setState({commodities:t})}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})}render(){const e=[{name:"Name",label:"Name",options:{filter:!0,sort:!0,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Items",label:"Items",options:{filter:!1,sort:!0,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}},{name:"Delete",label:"",options:{filter:!1,sort:!1,print:!1,className:ct()({[this.props.classes.NameCell]:!0})}}],t={responsive:"scroll",selectableRows:!1,setRowProps:e=>({className:ct()({}),style:{}}),setTableProps:()=>({})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Commodity",redirectURL:"/admin/commodities/add"}),l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Commodities")))),l.a.createElement(T.a,null,l.a.createElement(gt,null,l.a.createElement(_t,{xs:12,sm:12,md:12},l.a.createElement(yt.a,{theme:this.getMuiTheme()},l.a.createElement(ut.a,{title:"",data:this.generateTableData(this.state.commodities),columns:e,options:t}))))))))}}var Yt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"CommoditiesListView.js"})(Ot)),Gt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.expense_type,e.date_of_expense,e.commodity_groups[0]?e.commodity_groups[0].commodity_group_name:"",e.invoice_no,e.amount,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/expenses/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Type",label:"Type",options:{filter:!0,sort:!0}},{name:"Date",label:"Date",options:{filter:!1,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Commodity",label:"Commodity",options:{filter:!1,sort:!0}},{name:"Invoice No",label:"Invoice No",options:{filter:!1,sort:!0}},{name:"Amount",label:"Amount",options:{filter:!1,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Expense",redirectURL:"/admin/expenses/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/suppliers/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/expenses/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component),Qt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"ExpensesListView.js"})(Gt)),Ht=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.income_type,e.date_of_income,e.commodity_groups[0]?e.commodity_groups[0].commodity_group_name:"",e.invoice_no,e.amount,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/incomes/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Type",label:"Type",options:{filter:!0,sort:!0}},{name:"Date",label:"Date",options:{filter:!1,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Commodity",label:"Commodity",options:{filter:!1,sort:!0}},{name:"Invoice No",label:"Invoice No",options:{filter:!1,sort:!0}},{name:"Amount",label:"Amount",options:{filter:!1,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Income",redirectURL:"/admin/incomes/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/suppliers/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/incomes/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component),Zt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"IncomesListView.js"})(Ht)),zt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.date_of_sales,e.users[0].user_name,e.sub_commodities,e.invoice_no,e.net_total,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/sales/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Date",label:"Date",options:{filter:!1,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Name",label:"Name",options:{filter:!0,sort:!0}},{name:"Particulars",label:"Particulars",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){var n=0,s=[];for(n=0;n<e.length;n++)s.push(l.a.createElement("div",null,e[n].sub_commodity_name,"\xa0\xa0\xa0",e[n].sub_commodity_quantity));return e[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,s)):l.a.createElement(l.a.Fragment,null,e)}}},{name:"Invoice Number",label:"Invoice Number",options:{filter:!1,sort:!1}},{name:"Amount",label:"Amount",options:{filter:!1,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Sales",redirectURL:"/admin/sales/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/consumers/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/sales/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component),Wt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"SalesListView.js"})(zt)),Kt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.date_of_purchase,e.users[0]?e.users[0].user_name:"",e.sub_commodities,e.invoice_no,e.net_total,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/purchase/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Date",label:"Date",options:{filter:!1,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Name",label:"Name",options:{filter:!0,sort:!0}},{name:"Particulars",label:"Particulars",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){var n=0,s=[];for(n=0;n<e.length;n++)s.push(l.a.createElement("div",null,e[n].sub_commodity_name,"\xa0\xa0\xa0",e[n].sub_commodity_quantity));return e[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,s)):l.a.createElement(l.a.Fragment,null,e)}}},{name:"Invoice Number",label:"Invoice Number",options:{filter:!1,sort:!1}},{name:"Amount",label:"Amount",options:{filter:!1,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Purchase",redirectURL:"/admin/purchase/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/suppliers/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/purchases/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component),Xt=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"PurchaseListView.js"})(Kt)),Jt=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.date_of_sales_return,e.users[0]?e.users[0].user_name:"",e.sub_commodities,e.invoice_no,e.net_total,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/sales-return/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Date",label:"Date",options:{filter:!1,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Name",label:"Name",options:{filter:!0,sort:!0}},{name:"Particulars",label:"Particulars",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){console.log(e);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,e[0].sub_commodity_name,"\xa0",e[0].sub_commodity_quantity))}}},{name:"Invoice Number",label:"Invoice Number",options:{filter:!1,sort:!1}},{name:"Amount",label:"Amount",options:{filter:!1,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Sales Return",redirectURL:"/admin/sales-return/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/consumers/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/sales-returns/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component),$t=Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"SalesReturnListView.js"})(Jt)),ea=function(e){Object(ee.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isSubmitBtnDisabled:!1},e.disableSubmitButton=function(t){e.setState({isSubmitBtnDisabled:t})},e.generateTableData=function(e){var t=[];return e.forEach((function(e){var a=[e.date_of_purchase_return,e.users[0]?e.users[0].user_name:"",e.sub_commodities,e.invoice_no,e.net_total,l.a.createElement(V.a,{className:"btn-icon btn-2",color:"primary",size:"sm",type:"button",onClick:function(){window.location.href="/admin/purchase-return/edit?id="+e._id}},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-scissors"})))];a.push(),t.push(a)})),t.reverse(),t},e}return Object(J.a)(a,[{key:"render",value:function(){var e=[{name:"Date",label:"Date",options:{filter:!1,sort:!0,customBodyRender:function(e,t,a){return l.a.createElement("div",null,e.substring(0,10))}}},{name:"Name",label:"Name",options:{filter:!0,sort:!0}},{name:"Particulars",label:"Particulars",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){console.log(e);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,e[0].sub_commodity_name,"\xa0",e[0].sub_commodity_quantity))}}},{name:"Invoice Number",label:"Invoice Number",options:{filter:!1,sort:!1}},{name:"Amount",label:"Amount",options:{filter:!1,sort:!0}},{name:"Edit",label:"",options:{filter:!1,sort:!1,print:!1}}],t={responsive:"scroll",selectableRows:!1,setRowProps:function(e){return{className:ct()({}),style:{}}},setTableProps:function(){return{}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{buttonText:"Add Purchase Return",redirectURL:"/admin/purchase-return/add"}),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/suppliers/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/purchase-returns/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton}))}}]),a}(l.a.Component);class ta extends l.a.Component{constructor(...e){super(...e),this.state={isSubmitBtnDisabled:!1},this.disableSubmitButton=e=>{this.setState({isSubmitBtnDisabled:e})},this.generateTableData=e=>{const t=[];return e.forEach(e=>{let a=[e.date_of_transaction,e.transaction_type,e.particulars,e.debit,e.credit];a.push(),t.push(a)}),t}}render(){const e=[{name:"Date",label:"Date",options:{sort:!0,customBodyRender:(e,t,a)=>l.a.createElement("div",null,e.substring(0,10))}},{name:"Type",label:"Type",options:{filter:!0,sort:!1}},{name:"Particulars",label:"Particulars",options:{filter:!0,sort:!1,customBodyRender:(e,t,a)=>{var n=0;const s=[];for(n=0;n<e.length;n++)s.push(l.a.createElement("div",null,e[n].sub_commodity_name,"\xa0\xa0\xa0",e[n].sub_commodity_quantity,"\xa0\xa0\xa0",e[n].sub_commodity_price));return e[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,s)):l.a.createElement(l.a.Fragment,null,e)}}},{name:"Debit",label:"Debit",options:{sort:!0}},{name:"Credit",label:"Credit",options:{sort:!1}}],t={responsive:"scroll",selectableRows:!1,print:!1,setRowProps:e=>({className:ct()({}),style:{}}),setTableProps:()=>({})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(Bt,{getUsersLink:"".concat(Q.a.SERVER_URL,"/api/users/"),submitLink:"".concat(Q.a.SERVER_URL,"/api/statements/"),columns:e,generateTableData:this.generateTableData,options:t,isSubmitBtnDisabled:this.state.isSubmitBtnDisabled,disableSubmitButton:this.disableSubmitButton,module:"statement"}))}}var aa=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:rt,layout:"/admin"},{path:"/commodities",name:"Commodity",icon:"ni ni-app   text-red",component:Yt,layout:"/admin"},{path:"/suppliers",name:"Suppliers",icon:"ni ni-shop text-blue",component:Ut,layout:"/admin"},{path:"/consumers",name:"Consumers",icon:"ni ni-badge text-red",component:Vt,layout:"/admin"},{path:"/purchase",name:"Purchase",icon:"ni ni-cart text-yellow",component:Xt,layout:"/admin"},{path:"/sales",name:"Sales",icon:"ni ni-spaceship text-pink",component:Wt,layout:"/admin"},{path:"/purchase-return",name:"Purchase Return",icon:"ni ni-cart text-red",component:Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"PurchaseReturnListView.js"})(ea)),layout:"/admin"},{path:"/sales-return",name:"Sales Return",icon:"ni ni-delivery-fast text-green",component:$t,layout:"/admin"},{path:"/payments",name:"Payment",icon:"ni ni-money-coins text-green",component:Lt,layout:"/admin"},{path:"/expenses",name:"Expense",icon:"ni ni-money-coins text-red",component:Qt,layout:"/admin"},{path:"/income",name:"Income",icon:"ni ni-money-coins text-green",component:Zt,layout:"/admin"},{path:"/statement",name:"Statement",icon:"ni ni-collection text-green",component:Object(H.withSnackbar)(Object(vt.a)({CustomStyles:{"& td":{backgroundColor:"#FAA",boxShadow:"0 8px 4px 0 rgba(0, 0, 0, 0.2)"}},NameCell:{fontWeight:900}},{name:"StatementsListView.js"})(ta)),layout:"/admin"}];class na extends l.a.Component{constructor(...e){super(...e),this.state={_id:"",email_id:"",isAccountEdited:!1,isEditMode:!1,user_name:"",address:"",district:"",state:"",pincode:"",phone:"",bank_accounts:[{account_no:"",account_holder_name:"",ifsc:"",bank:""}],isSubmitBtnDisabled:!1},this.onSubmit=e=>{e.preventDefault();const t={user_name:this.state.user_name,address:this.state.address,district:this.state.district,state:this.state.state,pincode:this.state.pincode,phone:this.state.phone,bank_accounts:this.state.bank_accounts};""!==t.user_name?""!==t.phone?this.state.isSubmitBtnDisabled||(this.setState({isSubmitBtnDisabled:!0}),U.a.post("".concat(Q.a.SERVER_URL,"/api/admins/update/")+this.state._id,t).then(e=>{this.setState({isSubmitBtnDisabled:!1}),this.setState({isEditMode:!1}),this.props.enqueueSnackbar("Account Updated Successfully",{variant:"success"})}).catch(e=>{this.setState({isEditMode:!0}),this.setState({isSubmitBtnDisabled:!1}),this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})):this.props.enqueueSnackbar("Phone Number is field is mandatory !",{variant:"error"}):this.props.enqueueSnackbar("Account Name field is mandatory !",{variant:"error"})},this.handleElementChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleAddBank=()=>{let e=this.state.bank_accounts;e.push({bank:"",account_no:"",account_holder_name:"",ifsc:""}),this.setState({bank_accounts:e})},this.handleRemoveBank=e=>{const t=e.target.name;let a=[];a=this.state.bank_accounts,a.splice(t,1),this.setState({bank_accounts:a})},this.handleCardChange=e=>{const t=e.target.id,a=e.target.name;let n=this.state.bank_accounts;"bank"===a?n[t].bank=e.target.value:"account_no"===a?n[t].account_no=e.target.value:"account_holder_name"===a?n[t].account_holder_name=e.target.value:"ifsc"===a&&(n[t].ifsc=e.target.value),this.setState({bank_accounts:n})},this.componentDidMount=()=>{U.a.get("".concat(Q.a.SERVER_URL,"/api/admins/")).then(e=>{console.log(e),this.setState({_id:e.data[0]._id,email_id:e.data[0].email_id,user_name:e.data[0].user_name,address:e.data[0].address,district:e.data[0].district,state:e.data[0].state,pincode:e.data[0].pincode,phone:e.data[0].phone,bank_accounts:e.data[0].bank_accounts},console.log(this.state))}).catch(e=>{this.props.enqueueSnackbar(void 0!==e.response&&void 0!==e.response.data.message?e.response.data.message:"Something went wrong!",{variant:"warning"})})},this.constructBankDetails=()=>this.state.bank_accounts.map((e,t)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{key:t},l.a.createElement(f.a,null,l.a.createElement(y.a,{className:"order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Bank Account ",t+1," ")),l.a.createElement(y.a,{className:"text-right"},this.state.isEditMode&&l.a.createElement(V.a,{name:t,index:t,color:"danger",onClick:this.handleRemoveBank,size:"sm"},"- remove")))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-no"},"Account No"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:t,className:"form-control-alternative",placeholder:"Account No",type:"text",name:"account_no",value:e.account_no,onChange:this.handleCardChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-holder-name"},"Account Holder Name"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:t,className:"form-control-alternative",placeholder:"Account Holder Name",type:"text",name:"account_holder_name",value:e.account_holder_name,onChange:this.handleCardChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-ifsc"},"IFSC"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:t,className:"form-control-alternative",placeholder:"IFSC",type:"text",name:"ifsc",value:e.ifsc,onChange:this.handleCardChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-bank"},"Bank"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:t,className:"form-control-alternative",placeholder:"Bank",type:"text",name:"bank",value:e.bank,onChange:this.handleCardChange}))))))),l.a.createElement(j.a,null)))),l.a.createElement("br",null))))}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(c.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{className:" mt--7 order-xl-1",xl:"12"},l.a.createElement(q.a,{className:"bg-secondary shadow"},l.a.createElement(B.a,{className:"bg-white border-0"},l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{xs:"8"},l.a.createElement("h3",{className:"mb-0"},"Account")),l.a.createElement(y.a,{className:"text-right"},l.a.createElement(V.a,{color:"default",onClick:()=>{this.setState({isEditMode:!0})},size:"sm"},l.a.createElement("span",{className:"btn-inner--icon"},l.a.createElement("i",{className:"ni ni-bold-right"})),l.a.createElement("span",{className:"btn-inner--text"},"Edit"))))),l.a.createElement(T.a,null,l.a.createElement(x.a,null,l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Account information"),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-account-name"},"Account Name"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:"input-account-name",className:"form-control-alternative",placeholder:"Account Name",name:"user_name",type:"text",value:this.state.user_name,onChange:this.handleElementChange})))),l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:"input-address",className:"form-control-alternative",placeholder:"Address",type:"text",name:"address",value:this.state.address,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-district"},"District"),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:"input-district",className:"form-control-alternative",placeholder:"District",type:"text",name:"district",value:this.state.district,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-state"},"State"),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:"input-state",className:"form-control-alternative",placeholder:"State",type:"text",name:"state",value:this.state.state,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"4"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-pincode"},"Pincode"),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:"input-pincode",className:"form-control-alternative",placeholder:"Pincode",type:"text",name:"pincode",value:this.state.pincode,onChange:this.handleElementChange}))))),l.a.createElement("div",{className:"pl-lg-4"},l.a.createElement(f.a,null,l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone"},"Phone"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!this.state.isEditMode,id:"input-phone",className:"form-control-alternative",placeholder:"Phone No.",type:"text",name:"phone",value:this.state.phone,onChange:this.handleElementChange}))),l.a.createElement(y.a,{lg:"6"},l.a.createElement(L.a,null,l.a.createElement("label",{className:"form-control-label",htmlFor:"input-email-id"},"E-mail Id"),l.a.createElement("br",null),l.a.createElement(R.a,{disabled:!0,id:"input-email-id",className:"form-control-alternative",placeholder:"E-mail",type:"text",name:"email_id",value:this.state.email_id,onChange:this.handleElementChange}))))),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Bank Details"),this.constructBankDetails(),this.state.isEditMode&&l.a.createElement(f.a,{className:"align-items-center"},l.a.createElement(y.a,{className:"text-right"},l.a.createElement(V.a,{color:"primary",onClick:this.handleAddBank,size:"sm"},"+ new bank account"))))),l.a.createElement(j.a,null,this.state.isEditMode&&l.a.createElement(l.a.Fragment,null,l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"success",onClick:this.onSubmit},"Update"),l.a.createElement(V.a,{disabled:this.state.isSubmitBtnDisabled,color:"danger",onClick:()=>{this.setState({isEditMode:!1})}},"Cancel"))))))),this.state.isAccountAdded?l.a.createElement(i.a,{to:"/account/accounts"}):null)}}var la=Object(H.withSnackbar)(na);class sa extends l.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map((e,t)=>"/admin"===e.layout?l.a.createElement(i.b,{path:e.layout+e.path,component:e.component,key:t}):null),this.getBrandText=e=>{for(let t=0;t<aa.length;t++)if(-1!==this.props.location.pathname.indexOf(aa[t].layout+aa[t].path))return aa[t].name;return"Brand"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(H.SnackbarProvider,{anchorOrigin:{vertical:"top",horizontal:"right"},maxSnack:5},l.a.createElement(F,Object.assign({},this.props,{routes:aa,logo:{innerLink:"/admin/index",imgSrc:a(526),imgAlt:"..."}})),l.a.createElement("div",{className:"main-content",ref:"mainContent"},l.a.createElement(g,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/admin/account",component:la}),l.a.createElement(i.b,{exact:!0,path:"/admin/consumers/add",component:W}),l.a.createElement(i.b,{exact:!0,path:"/admin/consumers/edit",component:ne}),l.a.createElement(i.b,{exact:!0,path:"/admin/suppliers/add",component:oe}),l.a.createElement(i.b,{exact:!0,path:"/admin/suppliers/edit",component:ce}),l.a.createElement(i.b,{exact:!0,path:"/admin/payments/add",component:ve}),l.a.createElement(i.b,{exact:!0,path:"/admin/payments/edit",component:ke}),l.a.createElement(i.b,{exact:!0,path:"/admin/commodities/add",component:de}),l.a.createElement(i.b,{exact:!0,path:"/admin/commodities/edit",component:pe}),l.a.createElement(i.b,{exact:!0,path:"/admin/sales/add",component:Te}),l.a.createElement(i.b,{exact:!0,path:"/admin/sales/edit",component:je}),l.a.createElement(i.b,{exact:!0,path:"/admin/purchase/add",component:Ie}),l.a.createElement(i.b,{exact:!0,path:"/admin/purchase/edit",component:Oe}),l.a.createElement(i.b,{exact:!0,path:"/admin/sales-return/add",component:Ge}),l.a.createElement(i.b,{exact:!0,path:"/admin/sales-return/edit",component:He}),l.a.createElement(i.b,{exact:!0,path:"/admin/purchase-return/add",component:ze}),l.a.createElement(i.b,{exact:!0,path:"/admin/purchase-return/edit",component:Ke}),l.a.createElement(i.b,{exact:!0,path:"/admin/expenses/add",component:we}),l.a.createElement(i.b,{exact:!0,path:"/admin/expenses/edit",component:Me}),l.a.createElement(i.b,{exact:!0,path:"/admin/incomes/add",component:Pe}),l.a.createElement(i.b,{exact:!0,path:"/admin/incomes/edit",component:qe}),this.getRoutes(aa),l.a.createElement(i.a,{from:"*",to:"/admin/index"})),l.a.createElement(c.a,{fluid:!0},l.a.createElement(N,null)))))}}var oa=sa;o.a.render(l.a.createElement(r.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/admin",render:e=>l.a.createElement(oa,e)}),l.a.createElement(i.a,{from:"/",to:"/admin/index"}))),document.getElementById("root"))},6:function(e,t){e.exports={SERVER_URL:""}}},[[351,1,2]]]);
//# sourceMappingURL=main.4cce233d.chunk.js.map